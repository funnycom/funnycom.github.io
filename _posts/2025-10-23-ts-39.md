---
title: "[TS] ê³ ê¸‰ íƒ€ì… ê¸°ë²• - 2"
date: 2025-10-23 14:05:00 +0900
categories: [ì›¹ ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸]
tags: [ì›¹ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸, TS, ìœ í‹¸ë¦¬í‹°íƒ€ì…]
pin: true
math: true
mermaid: true
---

## ğŸ¯ í•™ìŠµ ëª©í‘œ

* ì¡°ê±´ë¶€ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤
* infer í‚¤ì›Œë“œë¡œ íƒ€ì…ì„ ì¶”ë¡ í•˜ê³  ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤
* ë§¤í•‘ íƒ€ì…ìœ¼ë¡œ ê¸°ì¡´ íƒ€ì…ì„ ë³€í™˜í•  ìˆ˜ ìˆë‹¤
* í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ë¬¸ìì—´ íƒ€ì…ì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤
* ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤
* isì™€ asserts í‚¤ì›Œë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤
* íƒ€ì… ë‹¨ì–¸ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
* ì¸ë±ìŠ¤ ì ‘ê·¼ íƒ€ì…ìœ¼ë¡œ ì¤‘ì²©ëœ íƒ€ì…ì„ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤

---

## 14.3 í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…

í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì…ì€ **ë¬¸ìì—´ íƒ€ì…ì„ ì¡°ì‘í•˜ê³  ê²°í•©**í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

### ê¸°ë³¸ ë¬¸ë²•
```typescript
// ë¬¸ìì—´ ë¦¬í„°ëŸ´ ê²°í•©
type World = "world";
type Greeting = `hello ${World}`;  // "hello world"

// ìœ ë‹ˆì˜¨ íƒ€ì…ê³¼ ê²°í•©
type Color = "red" | "blue" | "green";
type HexColor = `#${Color}`;
// "#red" | "#blue" | "#green"

// ì—¬ëŸ¬ ìœ ë‹ˆì˜¨ íƒ€ì… ì¡°í•©
type Size = "small" | "large";
type Style = "primary" | "secondary";
type ButtonClass = `btn-${Size}-${Style}`;
// "btn-small-primary" | "btn-small-secondary" | 
// "btn-large-primary" | "btn-large-secondary"
```

### ë¬¸ìì—´ ì¡°ì‘

TypeScriptëŠ” 4ê°€ì§€ ë‚´ì¥ ë¬¸ìì—´ ì¡°ì‘ íƒ€ì…ì„ ì œê³µí•©ë‹ˆë‹¤:
```typescript
// 1. Uppercase - ëŒ€ë¬¸ìë¡œ
type Upper = Uppercase<"hello">;  // "HELLO"

// 2. Lowercase - ì†Œë¬¸ìë¡œ
type Lower = Lowercase<"HELLO">;  // "hello"

// 3. Capitalize - ì²« ê¸€ìë§Œ ëŒ€ë¬¸ì
type Cap = Capitalize<"hello">;   // "Hello"

// 4. Uncapitalize - ì²« ê¸€ìë§Œ ì†Œë¬¸ì
type Uncap = Uncapitalize<"Hello">; // "hello"
```

**ì‹¤ì „ ì˜ˆì œ 1: HTTP ë©”ì„œë“œ íƒ€ì…**
```typescript
type Method = "get" | "post" | "put" | "delete";
type UpperMethod = Uppercase<Method>;
// "GET" | "POST" | "PUT" | "DELETE"

// HTTP í—¤ë”
type HttpHeader = `X-${Capitalize<string>}`;

const header1: HttpHeader = "X-Api-Key";     // âœ… OK
const header2: HttpHeader = "X-Auth-Token";  // âœ… OK
const header3: HttpHeader = "x-custom";      // âŒ ì—ëŸ¬! 'X-' ë’¤ëŠ” ëŒ€ë¬¸ìë¡œ ì‹œì‘
```

**ì‹¤ì „ ì˜ˆì œ 2: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**
```typescript
type EventName = "click" | "focus" | "blur";
type EventHandler = `on${Capitalize<EventName>}`;
// "onClick" | "onFocus" | "onBlur"

interface ButtonProps {
  onClick?: () => void;
  onFocus?: () => void;
  onBlur?: () => void;
}

// ë™ì ìœ¼ë¡œ í•¸ë“¤ëŸ¬ íƒ€ì… ìƒì„±
type HandlerProps<T extends string> = {
  [K in T as `on${Capitalize<K>}`]?: () => void;
};

type ButtonHandlers = HandlerProps<EventName>;
/*
{
  onClick?: () => void;
  onFocus?: () => void;
  onBlur?: () => void;
}
*/
```

### íŒ¨í„´ ë§¤ì¹­
```typescript
// ë¬¸ìì—´ íŒ¨í„´ ì¶”ì¶œ
type ExtractId<T extends string> = 
  T extends `${infer _Start}/${infer Id}/${infer _End}`
    ? Id
    : never;

type UserId = ExtractId<"/users/123/profile">;  // "123"
type PostId = ExtractId<"/posts/456/comments">; // "456"

// ì‹¤ì „ ì‚¬ìš©: URL íŒŒì‹±
type ParseURL<T extends string> = 
  T extends `${infer Protocol}://${infer Domain}/${infer Path}`
    ? {
        protocol: Protocol;
        domain: Domain;
        path: Path;
      }
    : never;

type Parsed = ParseURL<"https://example.com/api/users">;
/*
{
  protocol: "https";
  domain: "example.com";
  path: "api/users";
}
*/
```

**ì‹¤ì „ ì˜ˆì œ 3: ê²½ë¡œ íŒŒë¼ë¯¸í„° ì¶”ì¶œ**
```typescript
// "/users/:id/posts/:postId" â†’ { id: string; postId: string }
type ExtractParams<Path extends string> = 
  Path extends `${infer _Start}:${infer Param}/${infer Rest}`
    ? { [K in Param | keyof ExtractParams<Rest>]: string }
    : Path extends `${infer _Start}:${infer Param}`
      ? { [K in Param]: string }
      : {};

type UserPostParams = ExtractParams<"/users/:id/posts/:postId">;
/*
{
  id: string;
  postId: string;
}
*/

// ì‚¬ìš©
function getRoute<Path extends string>(
  path: Path,
  params: ExtractParams<Path>
) {
  let result = path as string;
  for (const [key, value] of Object.entries(params)) {
    result = result.replace(`:${key}`, value);
  }
  return result;
}

const url = getRoute("/users/:id/posts/:postId", {
  id: "123",
  postId: "456"
});
// "/users/123/posts/456"
```

### SQL ì¿¼ë¦¬ íƒ€ì… ì•ˆì „ì„±
```typescript
// SQL ì»¬ëŸ¼ ì¶”ì¶œ
type ExtractColumns<Q extends string> = 
  Q extends `SELECT ${infer Cols} FROM ${infer _Rest}`
    ? Cols extends `${infer Col}, ${infer Rest}`
      ? Col | ExtractColumns<`SELECT ${Rest} FROM _`>
      : Cols
    : never;

type Columns = ExtractColumns<"SELECT id, name, email FROM users">;
// "id" | "name" | "email"

// WHERE ì¡°ê±´ ì¶”ì¶œ
type ExtractWhere<Q extends string> = 
  Q extends `${infer _Start} WHERE ${infer Condition}`
    ? Condition
    : never;

type WhereClause = ExtractWhere<"SELECT * FROM users WHERE age > 18">;
// "age > 18"
```

### íƒ€ì… ë ˆë²¨ ë¬¸ìì—´ ì—°ì‚°

**ì˜ˆì œ 1: ë¬¸ìì—´ ë¶„í• **
```typescript
type Split<S extends string, D extends string> = 
  S extends `${infer Head}${D}${infer Tail}`
    ? [Head, ...Split<Tail, D>]
    : [S];

type Path = Split<"api/users/123", "/">;
// ["api", "users", "123"]

type Email = Split<"user@example.com", "@">;
// ["user", "example.com"]
```

**ì˜ˆì œ 2: ë¬¸ìì—´ ê²°í•©**
```typescript
type Join<T extends string[], D extends string> = 
  T extends [infer First extends string, ...infer Rest extends string[]]
    ? Rest extends []
      ? First
      : `${First}${D}${Join<Rest, D>}`
    : "";

type Path2 = Join<["api", "users", "123"], "/">;
// "api/users/123"

type Email2 = Join<["user", "example.com"], "@">;
// "user@example.com"
```

**ì˜ˆì œ 3: ë¬¸ìì—´ ê¸¸ì´**
```typescript
type StringLength
  S extends string,
  Acc extends any[] = []
> = S extends `${infer _First}${infer Rest}`
  ? StringLength<Rest, [...Acc, any]>
  : Acc['length'];

type Len1 = StringLength<"hello">;  // 5
type Len2 = StringLength<"TypeScript">;  // 10
```

### CSS í´ë˜ìŠ¤ íƒ€ì… ì•ˆì „ì„±
```typescript
type Size = "sm" | "md" | "lg";
type Variant = "primary" | "secondary" | "danger";
type State = "hover" | "active" | "disabled";

// ë²„íŠ¼ í´ë˜ìŠ¤ ìƒì„±
type ButtonClass = 
  | `btn-${Size}`
  | `btn-${Variant}`
  | `btn-${State}`;

/*
"btn-sm" | "btn-md" | "btn-lg" |
"btn-primary" | "btn-secondary" | "btn-danger" |
"btn-hover" | "btn-active" | "btn-disabled"
*/

// íƒ€ì… ì•ˆì „í•œ í´ë˜ìŠ¤ ë¹Œë”
function buildButtonClass(
  size: Size,
  variant: Variant,
  state?: State
): string {
  const classes: ButtonClass[] = [`btn-${size}`, `btn-${variant}`];
  if (state) {
    classes.push(`btn-${state}`);
  }
  return classes.join(" ");
}

const className = buildButtonClass("md", "primary", "hover");
// "btn-md btn-primary btn-hover"
```

### íƒ€ì… ì•ˆì „í•œ í™˜ê²½ ë³€ìˆ˜
```typescript
// í™˜ê²½ ë³€ìˆ˜ í‚¤ ì •ì˜
type EnvPrefix = "REACT_APP" | "VITE" | "NEXT_PUBLIC";
type EnvKey<Prefix extends EnvPrefix, Name extends string> = 
  `${Prefix}_${Uppercase<Name>}`;

type ReactEnv = EnvKey<"REACT_APP", "api_url" | "api_key">;
// "REACT_APP_API_URL" | "REACT_APP_API_KEY"

type ViteEnv = EnvKey<"VITE", "port" | "host">;
// "VITE_PORT" | "VITE_HOST"

// ì‚¬ìš©
function getEnv<Prefix extends EnvPrefix, Name extends string>(
  prefix: Prefix,
  name: Name
): string | undefined {
  const key = `${prefix}_${name.toUpperCase()}` as EnvKey<Prefix, Name>;
  return process.env[key];
}

const apiUrl = getEnv("REACT_APP", "api_url");
const port = getEnv("VITE", "port");
```

---

## 14.4 íƒ€ì… ê°€ë“œ ì‹¬í™”

íƒ€ì… ê°€ë“œëŠ” **ëŸ°íƒ€ì„ì—ì„œ íƒ€ì…ì„ ì¢í˜€ì£¼ëŠ”** í•¨ìˆ˜ì…ë‹ˆë‹¤.

### ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ

**ê¸°ë³¸ ë¬¸ë²•:**
```typescript
function isType(value: unknown): value is Type {
  // íƒ€ì… ì²´í¬ ë¡œì§
  return true/false;
}
```

> ğŸ’¡ **value is Type**: ì´ í•¨ìˆ˜ê°€ trueë¥¼ ë°˜í™˜í•˜ë©´ valueëŠ” Typeì…ë‹ˆë‹¤

**ì˜ˆì œ 1: ê¸°ë³¸ íƒ€ì… ê°€ë“œ**
```typescript
// ë¬¸ìì—´ ì²´í¬
function isString(value: unknown): value is string {
  return typeof value === "string";
}

// ìˆ«ì ì²´í¬
function isNumber(value: unknown): value is number {
  return typeof value === "number";
}

// ì‚¬ìš©
function processValue(value: unknown) {
  if (isString(value)) {
    console.log(value.toUpperCase());  // âœ… string ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥
  }
  
  if (isNumber(value)) {
    console.log(value.toFixed(2));  // âœ… number ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥
  }
}
```

**ì˜ˆì œ 2: ê°ì²´ íƒ€ì… ê°€ë“œ**
```typescript
interface User {
  id: number;
  name: string;
  email: string;
}

interface Product {
  id: number;
  title: string;
  price: number;
}

// User íƒ€ì… ê°€ë“œ
function isUser(obj: unknown): obj is User {
  return (
    typeof obj === "object" &&
    obj !== null &&
    "name" in obj &&
    "email" in obj &&
    typeof (obj as User).name === "string" &&
    typeof (obj as User).email === "string"
  );
}

// Product íƒ€ì… ê°€ë“œ
function isProduct(obj: unknown): obj is Product {
  return (
    typeof obj === "object" &&
    obj !== null &&
    "title" in obj &&
    "price" in obj &&
    typeof (obj as Product).title === "string" &&
    typeof (obj as Product).price === "number"
  );
}

// ì‚¬ìš©
function processData(data: unknown) {
  if (isUser(data)) {
    console.log(`User: ${data.name}, ${data.email}`);
    // dataëŠ” User íƒ€ì…
  } else if (isProduct(data)) {
    console.log(`Product: ${data.title}, $${data.price}`);
    // dataëŠ” Product íƒ€ì…
  }
}
```

**ì˜ˆì œ 3: ë°°ì—´ íƒ€ì… ê°€ë“œ**
```typescript
function isStringArray(value: unknown): value is string[] {
  return Array.isArray(value) && value.every(item => typeof item === "string");
}

function isNumberArray(value: unknown): value is number[] {
  return Array.isArray(value) && value.every(item => typeof item === "number");
}

// ì‚¬ìš©
function processArray(arr: unknown) {
  if (isStringArray(arr)) {
    arr.forEach(str => console.log(str.toUpperCase()));
    // arrì€ string[]
  }
  
  if (isNumberArray(arr)) {
    const sum = arr.reduce((a, b) => a + b, 0);
    // arrì€ number[]
  }
}
```

### is í‚¤ì›Œë“œ

`is` í‚¤ì›Œë“œëŠ” íƒ€ì… ê°€ë“œ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

**ì˜ˆì œ 1: API ì‘ë‹µ ê²€ì¦**
```typescript
interface SuccessResponse {
  success: true;
  data: any;
}

interface ErrorResponse {
  success: false;
  error: string;
}

type ApiResponse = SuccessResponse | ErrorResponse;

function isSuccessResponse(response: ApiResponse): response is SuccessResponse {
  return response.success === true;
}

function isErrorResponse(response: ApiResponse): response is ErrorResponse {
  return response.success === false;
}

// ì‚¬ìš©
async function fetchData() {
  const response: ApiResponse = await fetch("/api/data").then(r => r.json());
  
  if (isSuccessResponse(response)) {
    console.log(response.data);  // âœ… data ì†ì„± ì ‘ê·¼ ê°€ëŠ¥
  } else if (isErrorResponse(response)) {
    console.error(response.error);  // âœ… error ì†ì„± ì ‘ê·¼ ê°€ëŠ¥
  }
}
```

**ì˜ˆì œ 2: ìœ ë‹ˆì˜¨ íƒ€ì… ì¢íˆê¸°**
```typescript
type Shape = 
  | { kind: "circle"; radius: number }
  | { kind: "square"; sideLength: number }
  | { kind: "rectangle"; width: number; height: number };

function isCircle(shape: Shape): shape is Extract<Shape, { kind: "circle" }> {
  return shape.kind === "circle";
}

function isSquare(shape: Shape): shape is Extract<Shape, { kind: "square" }> {
  return shape.kind === "square";
}

function isRectangle(shape: Shape): shape is Extract<Shape, { kind: "rectangle" }> {
  return shape.kind === "rectangle";
}

// ì‚¬ìš©
function getArea(shape: Shape): number {
  if (isCircle(shape)) {
    return Math.PI * shape.radius ** 2;
    // shapeì€ { kind: "circle"; radius: number }
  }
  
  if (isSquare(shape)) {
    return shape.sideLength ** 2;
    // shapeì€ { kind: "square"; sideLength: number }
  }
  
  if (isRectangle(shape)) {
    return shape.width * shape.height;
    // shapeì€ { kind: "rectangle"; width: number; height: number }
  }
  
  return 0;
}
```

**ì˜ˆì œ 3: null/undefined ì²´í¬**
```typescript
function isDefined<T>(value: T | null | undefined): value is T {
  return value !== null && value !== undefined;
}

// ì‚¬ìš©
function processValue(value: string | null | undefined) {
  if (isDefined(value)) {
    console.log(value.toUpperCase());  // âœ… string í™•ì •
  }
}

// ë°°ì—´ í•„í„°ë§
const values: (string | null | undefined)[] = ["a", null, "b", undefined, "c"];
const definedValues = values.filter(isDefined);
// definedValuesëŠ” string[] íƒ€ì…
```

### asserts í‚¤ì›Œë“œ

`asserts` í‚¤ì›Œë“œëŠ” **assertion í•¨ìˆ˜**ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. í•¨ìˆ˜ê°€ ì—ëŸ¬ë¥¼ ë˜ì§€ì§€ ì•Šìœ¼ë©´ íƒ€ì…ì´ ë³´ì¥ë©ë‹ˆë‹¤.

**ê¸°ë³¸ ë¬¸ë²•:**
```typescript
function assert(condition: boolean, message: string): asserts condition {
  if (!condition) {
    throw new Error(message);
  }
}
```

**ì˜ˆì œ 1: íƒ€ì… ë‹¨ì–¸**
```typescript
function assertIsString(value: unknown): asserts value is string {
  if (typeof value !== "string") {
    throw new Error("Not a string!");
  }
}

function processValue(value: unknown) {
  assertIsString(value);
  // ì´ ì¤„ ì´í›„ë¡œ valueëŠ” string íƒ€ì…
  console.log(value.toUpperCase());  // âœ… OK
}
```

**ì˜ˆì œ 2: null ì²´í¬**
```typescript
function assertNotNull<T>(value: T | null | undefined): asserts value is T {
  if (value === null || value === undefined) {
    throw new Error("Value is null or undefined!");
  }
}

function getUser(id: number): User | null {
  // ì‚¬ìš©ì ì¡°íšŒ...
  return null;
}

function processUser(id: number) {
  const user = getUser(id);
  assertNotNull(user);
  // userëŠ” ì´ì œ User íƒ€ì… (null ì•„ë‹˜)
  console.log(user.name);  // âœ… OK
}
```

**ì˜ˆì œ 3: ê°ì²´ ì†ì„± í™•ì¸**
```typescript
function assertHasProperty<T, K extends string>(
  obj: T,
  key: K,
  message?: string
): asserts obj is T & Record<K, unknown> {
  if (!(key in obj)) {
    throw new Error(message || `Property ${key} does not exist`);
  }
}

function processData(data: unknown) {
  assertHasProperty(data, "id");
  assertHasProperty(data, "name");
  
  // dataëŠ” ì´ì œ { id: unknown; name: unknown } íƒ€ì…
  console.log(data.id, data.name);  // âœ… OK
}
```

**ì˜ˆì œ 4: ë°°ì—´ ê²€ì¦**
```typescript
function assertIsArray<T>(value: unknown): asserts value is T[] {
  if (!Array.isArray(value)) {
    throw new Error("Not an array!");
  }
}

function assertIsStringArray(value: unknown): asserts value is string[] {
  assertIsArray(value);
  if (!value.every(item => typeof item === "string")) {
    throw new Error("Not a string array!");
  }
}

function processStrings(data: unknown) {
  assertIsStringArray(data);
  // dataëŠ” ì´ì œ string[] íƒ€ì…
  data.forEach(str => console.log(str.toUpperCase()));  // âœ… OK
}
```

### is vs asserts ë¹„êµ
```typescript
// is: ë°˜í™˜ ê°’ìœ¼ë¡œ íƒ€ì… ì²´í¬
function isString(value: unknown): value is string {
  return typeof value === "string";
}

// ì‚¬ìš©: ifë¬¸ í•„ìš”
if (isString(value)) {
  console.log(value.toUpperCase());
}

// asserts: ì—ëŸ¬ë¥¼ ë˜ì§€ê±°ë‚˜ í†µê³¼
function assertIsString(value: unknown): asserts value is string {
  if (typeof value !== "string") {
    throw new Error("Not a string");
  }
}

// ì‚¬ìš©: ifë¬¸ ë¶ˆí•„ìš”
assertIsString(value);
console.log(value.toUpperCase());  // ì—¬ê¸°ì„œ valueëŠ” string

// ğŸ’¡ ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ?
// - is: íƒ€ì…ì´ ì•„ë‹ ë•Œ ë‹¤ë¥¸ ì²˜ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°
// - asserts: íƒ€ì…ì´ ì•„ë‹ˆë©´ ì—ëŸ¬ë¥¼ ë˜ì§€ëŠ” ê²½ìš°
```

### ì‹¤ì „ ì˜ˆì œ: í¼ ìœ íš¨ì„± ê²€ì‚¬
```typescript
interface FormData {
  username: string;
  email: string;
  age: number;
}

function assertValidUsername(username: unknown): asserts username is string {
  if (typeof username !== "string") {
    throw new Error("Username must be a string");
  }
  if (username.length < 3) {
    throw new Error("Username must be at least 3 characters");
  }
  if (!/^[a-zA-Z0-9_]+$/.test(username)) {
    throw new Error("Username must contain only letters, numbers, and underscores");
  }
}

function assertValidEmail(email: unknown): asserts email is string {
  if (typeof email !== "string") {
    throw new Error("Email must be a string");
  }
  if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
    throw new Error("Invalid email format");
  }
}

function assertValidAge(age: unknown): asserts age is number {
  if (typeof age !== "number") {
    throw new Error("Age must be a number");
  }
  if (age < 0 || age > 150) {
    throw new Error("Age must be between 0 and 150");
  }
}

function validateFormData(data: unknown): asserts data is FormData {
  if (typeof data !== "object" || data === null) {
    throw new Error("Invalid form data");
  }
  
  const { username, email, age } = data as any;
  
  assertValidUsername(username);
  assertValidEmail(email);
  assertValidAge(age);
}

// ì‚¬ìš©
function submitForm(data: unknown) {
  try {
    validateFormData(data);
    // dataëŠ” ì´ì œ FormData íƒ€ì…
    console.log(`Valid form: ${data.username}, ${data.email}, ${data.age}`);
  } catch (error) {
    console.error("Validation failed:", error);
  }
}
```

---

## 14.5 íƒ€ì… ë‹¨ì–¸ (Type Assertion)

íƒ€ì… ë‹¨ì–¸ì€ **ì»´íŒŒì¼ëŸ¬ì—ê²Œ "ë‚´ê°€ íƒ€ì…ì„ ë” ì˜ ì•Œì•„"**ë¼ê³  ì•Œë ¤ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤.

### as í‚¤ì›Œë“œ

**ê¸°ë³¸ ë¬¸ë²•:**
```typescript
value as Type
```

**ì˜ˆì œ 1: DOM ìš”ì†Œ**
```typescript
// HTMLElement â†’ HTMLInputElement
const input = document.getElementById("username") as HTMLInputElement;
input.value = "í™ê¸¸ë™";  // âœ… OK

// HTMLElement â†’ HTMLButtonElement
const button = document.querySelector(".submit-btn") as HTMLButtonElement;
button.disabled = true;  // âœ… OK

// ì—¬ëŸ¬ íƒ€ì… ê°€ëŠ¥ì„±
const element = document.querySelector(".some-element");
if (element) {
  // elementëŠ” Element | null
  const input = element as HTMLInputElement;
  console.log(input.value);
}
```

**ì˜ˆì œ 2: API ì‘ë‹µ**
```typescript
interface User {
  id: number;
  name: string;
  email: string;
}

async function fetchUser(id: number): Promise<User> {
  const response = await fetch(`/api/users/${id}`);
  const data = await response.json();  // any íƒ€ì…
  return data as User;  // Userë¡œ ë‹¨ì–¸
}

// ì‚¬ìš©
const user = await fetchUser(1);
console.log(user.name, user.email);  // âœ… OK
```

**ì˜ˆì œ 3: íƒ€ì… ì¢íˆê¸°**
```typescript
type Animal = { type: "dog"; bark: () => void } | { type: "cat"; meow: () => void };

function handleAnimal(animal: Animal) {
  if (animal.type === "dog") {
    // TypeScriptê°€ ìë™ìœ¼ë¡œ ì¢í˜€ì£¼ì§€ ëª»í•  ë•Œ
    const dog = animal as { type: "dog"; bark: () => void };
    dog.bark();
  }
}
```

### ì´ì¤‘ ë‹¨ì–¸ (Double Assertion)

ë•Œë¡œëŠ” ë‘ ë²ˆ ë‹¨ì–¸í•´ì•¼ í•  ë•Œê°€ ìˆìŠµë‹ˆë‹¤:
```typescript
// âŒ ì§ì ‘ ë³€í™˜ ë¶ˆê°€
const value = "hello" as number;  // ì—ëŸ¬!

// âœ… unknownì„ ê±°ì³ì„œ ë³€í™˜ (ê¶Œì¥í•˜ì§€ ì•ŠìŒ!)
const value = "hello" as unknown as number;

// ğŸ’¡ í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ì§€ ë§ˆì„¸ìš”!
// ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
```

### const ë‹¨ì–¸

`as const`ëŠ” ê°’ì„ **ë¦¬í„°ëŸ´ íƒ€ì…**ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤:
```typescript
// ì¼ë°˜ ì„ ì–¸
const user1 = {
  name: "í™ê¸¸ë™",
  age: 30
};
// íƒ€ì…: { name: string; age: number }

// as const ì‚¬ìš©
const user2 = {
  name: "í™ê¸¸ë™",
  age: 30
} as const;
// íƒ€ì…: { readonly name: "í™ê¸¸ë™"; readonly age: 30 }

// ë°°ì—´
const colors1 = ["red", "green", "blue"];
// íƒ€ì…: string[]

const colors2 = ["red", "green", "blue"] as const;
// íƒ€ì…: readonly ["red", "green", "blue"]
```

**ì‹¤ì „ ì˜ˆì œ: ì„¤ì • ê°ì²´**
```typescript
const config = {
  apiUrl: "https://api.example.com",
  timeout: 5000,
  retryCount: 3
} as const;

// config.apiUrl = "https://other.com";  // âŒ ì—ëŸ¬! readonly

// íƒ€ì… ì¶”ì¶œ
type Config = typeof config;
/*
{
  readonly apiUrl: "https://api.example.com";
  readonly timeout: 5000;
  readonly retryCount: 3;
}
*/

// ê°’ìœ¼ë¡œ íƒ€ì… ìƒì„±
type ApiUrl = typeof config.apiUrl;  // "https://api.example.com"
```

**ì‹¤ì „ ì˜ˆì œ: ë¼ìš°íŠ¸ ì •ì˜**
```typescript
const routes = {
  home: "/",
  about: "/about",
  users: "/users",
  userDetail: "/users/:id"
} as const;

type Route = typeof routes[keyof typeof routes];
// "/" | "/about" | "/users" | "/users/:id"

function navigate(route: Route) {
  console.log(`Navigating to ${route}`);
}

navigate("/");  // âœ… OK
navigate("/about");  // âœ… OK
navigate("/invalid");  // âŒ ì—ëŸ¬!
```

### ì£¼ì˜ì‚¬í•­

**âŒ í”¼í•´ì•¼ í•  ì‚¬ìš©:**
```typescript
// 1. ì˜ëª»ëœ íƒ€ì… ë‹¨ì–¸
const value = "123" as number;  // âŒ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ!
console.log(value * 2);  // NaN

// 2. anyë¥¼ í†µí•œ ìš°íšŒ
const value2 = "123" as any as number;  // âŒ íƒ€ì… ì•ˆì „ì„± í¬ê¸°

// 3. ë¶ˆí•„ìš”í•œ ë‹¨ì–¸
const name: string = "í™ê¸¸ë™" as string;  // âŒ ë¶ˆí•„ìš”

// 4. ê³¼ë„í•œ ë‹¨ì–¸
interface User {
  name: string;
}
const data = { name: "í™ê¸¸ë™", age: 30 };
const user = data as User;  // âš ï¸ age ì†ì„±ì´ ë¬´ì‹œë¨
```

**âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©:**
```typescript
// 1. DOM ìš”ì†Œ
const input = document.getElementById("input") as HTMLInputElement;

// 2. API ì‘ë‹µ (ê²€ì¦ í›„)
const data = await response.json();
if (isValidUser(data)) {
  const user = data as User;
}

// 3. ë¦¬í„°ëŸ´ íƒ€ì…
const colors = ["red", "green", "blue"] as const;

// 4. íƒ€ì… ì¢íˆê¸° ë³´ì¡°
if (animal.type === "dog") {
  (animal as Dog).bark();
}
```

