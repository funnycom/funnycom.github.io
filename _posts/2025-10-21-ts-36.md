---
title: "[TS] ìœ í‹¸ë¦¬í‹° íƒ€ì… - 3"
date: 2025-10-21 16:00:00 +0900
categories: [ì›¹ ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸]
tags: [ì›¹ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸, TS, ìœ í‹¸ë¦¬í‹°íƒ€ì…]
pin: true
math: true
mermaid: true
published: false
---


> **í•™ìŠµëª©í‘œ**
> - ìœ í‹¸ë¦¬í‹°ì˜ í•„ìš”ì„±ì„ ì´í•´í•œë‹¤
> - íƒ€ì…ì„ ì¶”ì¶œí•˜ê³  ë³€í˜•í•  ìˆ˜ ìˆë‹¤.
> - ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.
> - í•¨ìˆ˜ íƒ€ì…ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤.
> - ê³ ê¸‰ íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.

# 13.8 Excludeì™€ Extract

## Exclude<T, U>

### ê°œë…

ìœ ë‹ˆì˜¨ íƒ€ì… Tì—ì„œ Uì— í• ë‹¹ ê°€ëŠ¥í•œ íƒ€ì…ì„ ì œì™¸í•©ë‹ˆë‹¤.

**ë¬¸ë²•:**
```typescript
type Exclude<T, U> = T extends U ? never : T;
```

### ê¸°ë³¸ ì‚¬ìš©ë²•:
```typescript
type AllTypes = 'a' | 'b' | 'c' | 'd';

// 'b'ì™€ 'c' ì œì™¸
type ExcludedTypes = Exclude<AllTypes, 'b' | 'c'>;
// ê²°ê³¼: 'a' | 'd'

const value1: ExcludedTypes = 'a'; // âœ… OK
const value2: ExcludedTypes = 'd'; // âœ… OK
const value3: ExcludedTypes = 'b'; // âŒ ì—ëŸ¬!
```

### ì‹¤ì „ ì˜ˆì œ 

**1: íƒ€ì… í•„í„°ë§**
```typescript
type Primitive = string | number | boolean | null | undefined;

// nullê³¼ undefined ì œì™¸
type NonNullablePrimitive = Exclude<Primitive, null | undefined>;
// ê²°ê³¼: string | number | boolean

const val1: NonNullablePrimitive = "hello"; // âœ… OK
const val2: NonNullablePrimitive = null; // âŒ ì—ëŸ¬!
```

**2: ì´ë²¤íŠ¸ íƒ€ì… í•„í„°ë§**
```typescript
type MouseEvent = 'click' | 'mousedown' | 'mouseup' | 'mousemove';
type KeyboardEvent = 'keydown' | 'keyup' | 'keypress';
type AllEvents = MouseEvent | KeyboardEvent;

// ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë§Œ ì œì™¸
type OnlyKeyboardEvents = Exclude<AllEvents, MouseEvent>;
// ê²°ê³¼: 'keydown' | 'keyup' | 'keypress'

function handleKeyboardEvent(event: OnlyKeyboardEvents) {
  console.log(`Keyboard event: ${event}`);
}

handleKeyboardEvent('keydown'); // âœ… OK
handleKeyboardEvent('click'); // âŒ ì—ëŸ¬!
```

**3: í•¨ìˆ˜ íƒ€ì… ì œì™¸**
```typescript
type MixedType = string | number | (() => void) | boolean;

// í•¨ìˆ˜ íƒ€ì… ì œì™¸
type NonFunctionTypes = Exclude<MixedType, Function>;
// ê²°ê³¼: string | number | boolean

const value: NonFunctionTypes = "text"; // âœ… OK
const value2: NonFunctionTypes = () => {}; // âŒ ì—ëŸ¬!
```

## Extract<T, U>

### ê°œë…

ìœ ë‹ˆì˜¨ íƒ€ì… Tì—ì„œ Uì— í• ë‹¹ ê°€ëŠ¥í•œ íƒ€ì…ë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤. Excludeì˜ ë°˜ëŒ€ì…ë‹ˆë‹¤.

**ë¬¸ë²•:**
```typescript
type Extract<T, U> = T extends U ? T : never;
```

### ê¸°ë³¸ ì‚¬ìš©ë²•:
```typescript
type AllTypes = 'a' | 'b' | 'c' | 'd';

// 'b'ì™€ 'c'ë§Œ ì¶”ì¶œ
type ExtractedTypes = Extract<AllTypes, 'b' | 'c'>;
// ê²°ê³¼: 'b' | 'c'

const value1: ExtractedTypes = 'b'; // âœ… OK
const value2: ExtractedTypes = 'c'; // âœ… OK
const value3: ExtractedTypes = 'a'; // âŒ ì—ëŸ¬!
```

###ì‹¤ì „ ì˜ˆì œ 

**1: íŠ¹ì • íƒ€ì…ë§Œ ì¶”ì¶œ**
```typescript
type MixedType = string | number | boolean | (() => void);

// í•¨ìˆ˜ íƒ€ì…ë§Œ ì¶”ì¶œ
type OnlyFunctions = Extract<MixedType, Function>;
// ê²°ê³¼: () => void

const fn: OnlyFunctions = () => console.log("Hello"); // âœ… OK
const fn2: OnlyFunctions = "text"; // âŒ ì—ëŸ¬!

// ì›ì‹œ íƒ€ì…ë§Œ ì¶”ì¶œ
type OnlyPrimitives = Extract<MixedType, string | number | boolean>;
// ê²°ê³¼: string | number | boolean
```

**2: ê³µí†µ ì†ì„± ì¶”ì¶œ**
```typescript
type EventType = 'click' | 'focus' | 'blur' | 'submit';
type FormEventType = 'focus' | 'blur' | 'submit' | 'change';

// ê³µí†µ ì´ë²¤íŠ¸ë§Œ ì¶”ì¶œ
type CommonEvents = Extract<EventType, FormEventType>;
// ê²°ê³¼: 'focus' | 'blur' | 'submit'

function handleCommonEvent(event: CommonEvents) {
  console.log(`Common event: ${event}`);
}

handleCommonEvent('focus'); // âœ… OK
handleCommonEvent('click'); // âŒ ì—ëŸ¬!
```

**3: ê°ì²´ í‚¤ íƒ€ì… í•„í„°ë§**
```typescript
interface User {
  id: number;
  name: string;
  email: string;
  age: number;
  isActive: boolean;
}

// ìˆ«ì íƒ€ì… ì†ì„±ë§Œ ì¶”ì¶œ
type NumberKeys = Extract<keyof User, 'id' | 'age'>;
// ê²°ê³¼: 'id' | 'age'

// í•˜ì§€ë§Œ ë” ë‚˜ì€ ë°©ë²•ì€ (13.12ì—ì„œ ë‹¤ë£¹ë‹ˆë‹¤):
type NumberKeysAuto = {
  [K in keyof User]: User[K] extends number ? K : never;
}[keyof User];
Exclude vs Extract ë¹„êµ
typescripttype All = 'a' | 'b' | 'c' | 'd' | 'e';
type Some = 'b' | 'd';

// Exclude: ì œì™¸ (ì°¨ì§‘í•©)
type WithoutSome = Exclude<All, Some>;
// 'a' | 'c' | 'e'

// Extract: ì¶”ì¶œ (êµì§‘í•©)
type OnlySome = Extract<All, Some>;
// 'b' | 'd'

// ğŸ’¡ ì‹œê°í™”
// All:     [a, b, c, d, e]
// Some:         [b,    d]
// Exclude: [a,    c,    e]  (Some ì œì™¸)
// Extract:      [b,    d]   (Someë§Œ ì¶”ì¶œ)
```

## 13.9 NonNullable<T>

### ê°œë…

NonNullable<T>ëŠ” íƒ€ì… Tì—ì„œ nullê³¼ undefinedë¥¼ ì œê±°í•©ë‹ˆë‹¤.

**ë¬¸ë²•:**
```typescript
type NonNullable<T> = T extends null | undefined ? never : T;
// ë˜ëŠ”
type NonNullable<T> = Exclude<T, null | undefined>;
```

### ê¸°ë³¸ ì‚¬ìš©ë²•
```typescript
type MaybeString = string | null | undefined;

// nullê³¼ undefined ì œê±°
type DefinitelyString = NonNullable<MaybeString>;
// ê²°ê³¼: string

const value1: DefinitelyString = "hello"; // âœ… OK
const value2: DefinitelyString = null; // âŒ ì—ëŸ¬!
const value3: DefinitelyString = undefined; // âŒ ì—ëŸ¬!
```

### ì‹¤ì „ í™œìš© ì˜ˆì œ

**1. ì˜µì…”ë„ ê°’ ì²˜ë¦¬**
```typescript
interface User {
  id: number;
  name: string;
  email?: string; // ì„ íƒì 
  phone?: string; // ì„ íƒì 
}

function getUser(): User {
  return {
    id: 1,
    name: "í™ê¸¸ë™",
    email: "hong@example.com"
    // phoneì€ ì—†ìŒ
  };
}

// ì´ë©”ì¼ì´ ìˆëŠ” ê²½ìš°ë§Œ ì²˜ë¦¬
function sendEmail(email: NonNullable<User['email']>) {
  console.log(`Sending email to: ${email}`);
  // emailì€ í™•ì‹¤íˆ string (undefined ì•„ë‹˜)
}

const user = getUser();

if (user.email) {
  sendEmail(user.email); // âœ… OK (íƒ€ì… ê°€ë“œë¡œ ì²´í¬)
}

// sendEmail(user.phone); // âŒ ì—ëŸ¬! phoneì€ undefinedì¼ ìˆ˜ ìˆìŒ
```

**2. ë°°ì—´ í•„í„°ë§**
```typescript
const numbers: (number | null | undefined)[] = [1, 2, null, 3, undefined, 4];

// nullê³¼ undefined ì œê±°
function filterNullable<T>(arr: T[]): NonNullable<T>[] {
  return arr.filter((item): item is NonNullable<T> => item != null);
}

const validNumbers = filterNullable(numbers);
// íƒ€ì…: number[]
// ê°’: [1, 2, 3, 4]

console.log(validNumbers); // [1, 2, 3, 4]
```

**3. API ì‘ë‹µ ì²˜ë¦¬**
```typescript
interface ApiResponse<T> {
  data: T | null;
  error: string | null;
}

function getUser(id: number): ApiResponse<User> {
  // API í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜
  return {
    data: { id, name: "í™ê¸¸ë™", email: "hong@example.com" },
    error: null
  };
}

// ì„±ê³µ ì‘ë‹µ ì²˜ë¦¬
function processUserData(data: NonNullable<ApiResponse<User>['data']>) {
  // dataëŠ” í™•ì‹¤íˆ User (null ì•„ë‹˜)
  console.log(`User: ${data.name}, ${data.email}`);
}

const response = getUser(1);

if (response.data) {
  processUserData(response.data); // âœ… íƒ€ì… ì•ˆì „
}
```

**4. ì„¤ì • ê°’ ë³´ì¥**
```typescript
interface Config {
  apiUrl?: string;
  timeout?: number;
  retryCount?: number;
}

const userConfig: Config = {
  apiUrl: "https://api.example.com"
  // timeoutê³¼ retryCountëŠ” ì—†ìŒ
};

// ê¸°ë³¸ê°’ê³¼ ë³‘í•©í•˜ì—¬ NonNullable ë³´ì¥
function getCompleteConfig(config: Config): Required<Config> {
  return {
    apiUrl: config.apiUrl ?? "https://default.com",
    timeout: config.timeout ?? 5000,
    retryCount: config.retryCount ?? 3
  };
}

const completeConfig = getCompleteConfig(userConfig);
// completeConfigì˜ ëª¨ë“  ì†ì„±ì€ í™•ì‹¤íˆ ì¡´ì¬

console.log(completeConfig.timeout); // 5000 (undefined ì•„ë‹˜)
```

## 13.10 ReturnType<T>

### ê°œë…

ReturnType<T>ëŠ” í•¨ìˆ˜ íƒ€ì… Tì˜ ë°˜í™˜ íƒ€ì…ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.

**ë¬¸ë²•:**
```typescript
type ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R ? R : any;

ğŸ’¡ infer R: ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ í•˜ì—¬ Rì— ì €ì¥
```

### ê¸°ë³¸ ì‚¬ìš©ë²•
```typescript
function getUser() {
  return {
    id: 1,
    name: "í™ê¸¸ë™",
    email: "hong@example.com"
  };
}

// getUser í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì… ì¶”ì¶œ
type User = ReturnType<typeof getUser>;

/*
ê²°ê³¼:
type User = {
  id: number;
  name: string;
  email: string;
}
*/

const user: User = {
  id: 2,
  name: "ê¹€ì² ìˆ˜",
  email: "kim@example.com"
}; // âœ… OK
```

### ì‹¤ì „ í™œìš© ì˜ˆì œ

**1. API ì‘ë‹µ íƒ€ì… ì¶”ì¶œ**
```typescript
async function fetchUserData() {
  const response = await fetch('/api/user');
  return response.json();
}

// ë°˜í™˜ íƒ€ì… ì¶”ì¶œ
type UserData = ReturnType<typeof fetchUserData>;
// ê²°ê³¼: Promise<any>

// Promiseë¥¼ í’€ì–´ë‚´ë ¤ë©´ Awaited ì‚¬ìš© (TypeScript 4.5+)
type UnwrappedUserData = Awaited<ReturnType<typeof fetchUserData>>;
```

**2. íŒ©í† ë¦¬ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…**
```typescript
function createUser(name: string, email: string) {
  return {
    id: Date.now(),
    name,
    email,
    createdAt: new Date(),
    isActive: true
  };
}

// íƒ€ì…ì„ ë³„ë„ë¡œ ì •ì˜í•˜ì§€ ì•Šê³  í•¨ìˆ˜ì—ì„œ ì¶”ì¶œ
type User = ReturnType<typeof createUser>;

/*
type User = {
  id: number;
  name: string;
  email: string;
  createdAt: Date;
  isActive: boolean;
}
*/

function saveUser(user: User) {
  console.log(`Saving user: ${user.name}`);
}

const newUser = createUser("í™ê¸¸ë™", "hong@example.com");
saveUser(newUser); // âœ… íƒ€ì… ì•ˆì „
```

**3. ìƒíƒœ ê´€ë¦¬ í•¨ìˆ˜**
```typescript
function createStore() {
  let state = {
    count: 0,
    message: "Hello"
  };
  
  return {
    getState: () => state,
    increment: () => state.count++,
    setMessage: (msg: string) => { state.message = msg; }
  };
}

type Store = ReturnType<typeof createStore>;
type StoreState = ReturnType<Store['getState']>;

/*
type Store = {
  getState: () => { count: number; message: string; };
  increment: () => void;
  setMessage: (msg: string) => void;
}

type StoreState = {
  count: number;
  message: string;
}
*/

function useStore(store: Store) {
  const state: StoreState = store.getState();
  console.log(state.count, state.message);
}
```

**4. ì œë„¤ë¦­ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…**
```typescript
function createArray<T>(value: T, count: number) {
  return Array(count).fill(value);
}

// ì œë„¤ë¦­ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…
type StringArray = ReturnType<typeof createArray<string>>;
// ê²°ê³¼: string[]

type NumberArray = ReturnType<typeof createArray<number>>;
// ê²°ê³¼: number[]

const strings: StringArray = createArray("hello", 3);
// ["hello", "hello", "hello"]
```

## 13.11 Parameters<T>

### ê°œë…

Parameters<T>ëŠ” í•¨ìˆ˜ íƒ€ì… Tì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ë“¤ì„ íŠœí”Œë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤.

**ë¬¸ë²•:**
```typescript
type Parameters<T extends (...args: any) => any> = T extends (...args: infer P) => any ? P : never;

ğŸ’¡ infer P: ë§¤ê°œë³€ìˆ˜ íƒ€ì…ë“¤ì„ ì¶”ë¡ í•˜ì—¬ Pì— ì €ì¥ (íŠœí”Œ í˜•íƒœ)
```

### ê¸°ë³¸ ì‚¬ìš©ë²•
```typescript
function createUser(name: string, age: number, email: string) {
  return { name, age, email };
}

// createUser í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì… ì¶”ì¶œ
type CreateUserParams = Parameters<typeof createUser>;
// ê²°ê³¼: [name: string, age: number, email: string]

// ì‚¬ìš©
const params: CreateUserParams = ["í™ê¸¸ë™", 30, "hong@example.com"];
const user = createUser(...params); // âœ… OK
```

### ì‹¤ì „ í™œìš© ì˜ˆì œ

**1. í•¨ìˆ˜ ë˜í¼**
```typescript
function logUser(id: number, name: string, isActive: boolean) {
  console.log(`User #${id}: ${name} (Active: ${isActive})`);
}

// ë¡œê¹… ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë˜í¼
function withLogging(
  fn: typeof logUser,
  ...args: Parameters<typeof logUser>
) {
  console.log(`[LOG] Calling function with args:`, args);
  fn(...args);
  console.log(`[LOG] Function completed`);
}

// ì‚¬ìš©
withLogging(logUser, 1, "í™ê¸¸ë™", true);
```

**2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ íƒ€ì…**
```typescript
function handleClick(event: MouseEvent, elementId: string) {
  console.log(`Clicked element: ${elementId}`);
}

// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë§¤ê°œë³€ìˆ˜ íƒ€ì…
type ClickHandlerParams = Parameters<typeof handleClick>;
// [event: MouseEvent, elementId: string]

function addEventListener(
  element: HTMLElement,
  handler: typeof handleClick
) {
  element.onclick = (event) => {
    const params: ClickHandlerParams = [event, element.id];
    handler(...params);
  };
}
```

**3. API í˜¸ì¶œ í•¨ìˆ˜ íƒ€ì… ì•ˆì „ì„±**
```typescript
async function fetchUser(userId: number, includeDeleted: boolean = false) {
  const response = await fetch(`/api/users/${userId}?deleted=${includeDeleted}`);
  return response.json();
}

// ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¬ì‚¬ìš©
type FetchUserParams = Parameters<typeof fetchUser>;

function cacheableFetchUser(...args: FetchUserParams) {
  const cacheKey = JSON.stringify(args);
  const cached = getFromCache(cacheKey);
  
  if (cached) {
    return Promise.resolve(cached);
  }
  
  return fetchUser(...args).then(data => {
    saveToCache(cacheKey, data);
    return data;
  });
}

// ì‚¬ìš©
cacheableFetchUser(1, true); // âœ… íƒ€ì… ì•ˆì „
```

**4. í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³µì‚¬**
```typescript
function originalFunction(a: string, b: number, c: boolean): void {
  console.log(a, b, c);
}

// ê°™ì€ ì‹œê·¸ë‹ˆì²˜ë¥¼ ê°€ì§„ í•¨ìˆ˜ íƒ€ì…
type SameSignature = (...args: Parameters<typeof originalFunction>) => ReturnType<typeof originalFunction>;

const copiedFunction: SameSignature = (a, b, c) => {
  console.log("Copied:", a, b, c);
};

copiedFunction("hello", 42, true); // âœ… OK
Parametersì™€ ReturnType ì¡°í•©
typescriptfunction calculate(a: number, b: number, operation: 'add' | 'subtract'): number {
  return operation === 'add' ? a + b : a - b;
}

// ë§¤ê°œë³€ìˆ˜ì™€ ë°˜í™˜ íƒ€ì… ëª¨ë‘ ì¶”ì¶œ
type CalculateParams = Parameters<typeof calculate>;
type CalculateReturn = ReturnType<typeof calculate>;

// ê°™ì€ ì‹œê·¸ë‹ˆì²˜ì˜ ìƒˆ í•¨ìˆ˜
function loggedCalculate(...args: CalculateParams): CalculateReturn {
  console.log(`Calculating with args:`, args);
  const result = calculate(...args);
  console.log(`Result: ${result}`);
  return result;
}

loggedCalculate(10, 5, 'add'); // Calculating with args: [10, 5, 'add']
                                // Result: 15
```
