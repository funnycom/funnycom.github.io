---
title: "[TS] ë°ì½”ë ˆì´í„° - 3"
date: 2025-10-23 16:05:00 +0900
categories: [ì›¹ ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸]
tags: [ì›¹ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸, TS, ë°ì½”ë ˆì´í„°, decorator]
pin: true
math: true
mermaid: true
---

## ğŸ¯ í•™ìŠµ ëª©í‘œ

* ë°ì½”ë ˆì´í„°ì˜ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•œë‹¤
* TypeScriptì—ì„œ ë°ì½”ë ˆì´í„° ê¸°ëŠ¥ì„ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤
* í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°ë¡œ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆë‹¤
* ë©”ì„œë“œ ë°ì½”ë ˆì´í„°ë¡œ ë©”ì„œë“œ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤
* í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°ë¡œ ì†ì„±ì— ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤
* ë§¤ê°œë³€ìˆ˜ ë°ì½”ë ˆì´í„°ë¡œ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤
* ë°ì½”ë ˆì´í„° íŒ©í† ë¦¬ë¡œ ì„¤ì • ê°€ëŠ¥í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤
* ì‹¤ì „ì—ì„œ ìœ íš¨ì„± ê²€ì‚¬, ë¡œê¹…, ì˜ì¡´ì„± ì£¼ì…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤

---

## 16.7 ì‹¤ì „ í™œìš©

### ìœ íš¨ì„± ê²€ì‚¬

ì™„ì „í•œ ìœ íš¨ì„± ê²€ì‚¬ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.

```typescript
import 'reflect-metadata';

// ë°ì½”ë ˆì´í„°ë“¤
function Required(target: any, propertyKey: string) {
  Reflect.defineMetadata('required', true, target, propertyKey);
}

function MinLength(length: number) {
  return function(target: any, propertyKey: string) {
    Reflect.defineMetadata('minLength', length, target, propertyKey);
  };
}

function MaxLength(length: number) {
  return function(target: any, propertyKey: string) {
    Reflect.defineMetadata('maxLength', length, target, propertyKey);
  };
}

function Email(target: any, propertyKey: string) {
  Reflect.defineMetadata('isEmail', true, target, propertyKey);
}

function Min(value: number) {
  return function(target: any, propertyKey: string) {
    Reflect.defineMetadata('min', value, target, propertyKey);
  };
}

function Max(value: number) {
  return function(target: any, propertyKey: string) {
    Reflect.defineMetadata('max', value, target, propertyKey);
  };
}

// ìœ íš¨ì„± ê²€ì‚¬ ì—ëŸ¬
class ValidationError extends Error {
  constructor(public errors: string[]) {
    super('Validation failed');
  }
}

// ê²€ì‚¬ í•¨ìˆ˜
function validate(obj: any): void {
  const errors: string[] = [];
  const properties = Object.getOwnPropertyNames(obj);
  
  for (const prop of properties) {
    const value = obj[prop];
    
    // Required ê²€ì‚¬
    const isRequired = Reflect.getMetadata('required', obj, prop);
    if (isRequired && (value === null || value === undefined || value === '')) {
      errors.push(`${prop} is required`);
      continue;
    }
    
    // Email ê²€ì‚¬
    const isEmail = Reflect.getMetadata('isEmail', obj, prop);
    if (isEmail && value) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(value)) {
        errors.push(`${prop} must be a valid email`);
      }
    }
    
    // MinLength ê²€ì‚¬
    const minLength = Reflect.getMetadata('minLength', obj, prop);
    if (minLength && value && value.length < minLength) {
      errors.push(`${prop} must be at least ${minLength} characters`);
    }
    
    // MaxLength ê²€ì‚¬
    const maxLength = Reflect.getMetadata('maxLength', obj, prop);
    if (maxLength && value && value.length > maxLength) {
      errors.push(`${prop} must be at most ${maxLength} characters`);
    }
    
    // Min ê²€ì‚¬
    const min = Reflect.getMetadata('min', obj, prop);
    if (min !== undefined && value < min) {
      errors.push(`${prop} must be at least ${min}`);
    }
    
    // Max ê²€ì‚¬
    const max = Reflect.getMetadata('max', obj, prop);
    if (max !== undefined && value > max) {
      errors.push(`${prop} must be at most ${max}`);
    }
  }
  
  if (errors.length > 0) {
    throw new ValidationError(errors);
  }
}

// Validate ë©”ì„œë“œ ë°ì½”ë ˆì´í„°
function Validate(
  target: any,
  propertyKey: string,
  descriptor: PropertyDescriptor
) {
  const originalMethod = descriptor.value;
  
  descriptor.value = function(...args: any[]) {
    // ê° ì¸ìì— ëŒ€í•´ ê²€ì¦
    for (const arg of args) {
      if (arg && typeof arg === 'object') {
        validate(arg);
      }
    }
    
    return originalMethod.apply(this, args);
  };
  
  return descriptor;
}

// ì‚¬ìš© ì˜ˆì‹œ
class CreateUserDto {
  @Required
  @MinLength(3)
  @MaxLength(20)
  username: string;
  
  @Required
  @Email
  email: string;
  
  @Required
  @MinLength(8)
  password: string;
  
  @Min(0)
  @Max(150)
  age?: number;
  
  constructor(username: string, email: string, password: string, age?: number) {
    this.username = username;
    this.email = email;
    this.password = password;
    this.age = age;
  }
}

class UserService {
  @Validate
  createUser(dto: CreateUserDto) {
    console.log('Creating user:', dto);
    return { id: Date.now(), ...dto };
  }
}

const service = new UserService();

// âœ… ìœ íš¨í•œ ë°ì´í„°
try {
  const user1 = service.createUser(
    new CreateUserDto('hong', 'hong@example.com', 'password123', 30)
  );
  console.log('Success:', user1);
} catch (error) {
  if (error instanceof ValidationError) {
    console.error('Validation errors:', error.errors);
  }
}

// âŒ ë¬´íš¨í•œ ë°ì´í„°
try {
  const user2 = service.createUser(
    new CreateUserDto('ab', 'invalid-email', 'short', 200)
  );
} catch (error) {
  if (error instanceof ValidationError) {
    console.error('Validation errors:', error.errors);
    // ì¶œë ¥:
    // [
    //   'username must be at least 3 characters',
    //   'email must be a valid email',
    //   'password must be at least 8 characters',
    //   'age must be at most 150'
    // ]
  }
}
```

### ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

```typescript
interface LogConfig {
  level: 'debug' | 'info' | 'warn' | 'error';
  includeArgs?: boolean;
  includeResult?: boolean;
  includeTime?: boolean;
}

// ë¡œê±° ì¸í„°í˜ì´ìŠ¤
interface Logger {
  debug(message: string, ...args: any[]): void;
  info(message: string, ...args: any[]): void;
  warn(message: string, ...args: any[]): void;
  error(message: string, ...args: any[]): void;
}

// ê°„ë‹¨í•œ ë¡œê±° êµ¬í˜„
const logger: Logger = {
  debug: (msg, ...args) => console.log(`[DEBUG] ${msg}`, ...args),
  info: (msg, ...args) => console.log(`[INFO] ${msg}`, ...args),
  warn: (msg, ...args) => console.warn(`[WARN] ${msg}`, ...args),
  error: (msg, ...args) => console.error(`[ERROR] ${msg}`, ...args)
};

function Log(config: LogConfig = { level: 'info' }) {
  return function(
    target: any,
    propertyKey: string,
    descriptor: PropertyDescriptor
  ) {
    const originalMethod = descriptor.value;
    
    descriptor.value = function(...args: any[]) {
      const start = performance.now();
      
      // ë©”ì„œë“œ ì‹œì‘ ë¡œê·¸
      let message = `${propertyKey} called`;
      
      if (config.includeArgs) {
        message += ` with args: ${JSON.stringify(args)}`;
      }
      
      logger[config.level](message);
      
      try {
        const result = originalMethod.apply(this, args);
        const end = performance.now();
        
        // ë©”ì„œë“œ ì™„ë£Œ ë¡œê·¸
        let successMessage = `${propertyKey} completed`;
        
        if (config.includeTime) {
          successMessage += ` in ${(end - start).toFixed(2)}ms`;
        }
        
        if (config.includeResult) {
          successMessage += ` with result: ${JSON.stringify(result)}`;
        }
        
        logger[config.level](successMessage);
        
        return result;
      } catch (error) {
        // ì—ëŸ¬ ë¡œê·¸
        logger.error(`${propertyKey} failed:`, error);
        throw error;
      }
    };
    
    return descriptor;
  };
}

// ì‚¬ìš©
class OrderService {
  @Log({ level: 'info', includeArgs: true, includeTime: true })
  createOrder(userId: number, productId: number, quantity: number) {
    console.log('Processing order...');
    return {
      id: Date.now(),
      userId,
      productId,
      quantity,
      status: 'pending'
    };
  }
  
  @Log({ level: 'debug', includeArgs: true, includeResult: true, includeTime: true })
  calculateTotal(items: { price: number; quantity: number }[]) {
    return items.reduce((sum, item) => sum + item.price * item.quantity, 0);
  }
}

const orderService = new OrderService();
orderService.createOrder(1, 100, 2);
// ì¶œë ¥:
// [INFO] createOrder called with args: [1,100,2]
// Processing order...
// [INFO] createOrder completed in 0.15ms

orderService.calculateTotal([
  { price: 1000, quantity: 2 },
  { price: 2000, quantity: 1 }
]);
// ì¶œë ¥:
// [DEBUG] calculateTotal called with args: [[{"price":1000,"quantity":2},{"price":2000,"quantity":1}]]
// [DEBUG] calculateTotal completed in 0.08ms with result: 4000
```

### ì˜ì¡´ì„± ì£¼ì…
```typescript
import 'reflect-metadata';

// ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆ
class Container {
  private services = new Map<string, any>();
  
  register(id: string, instance: any) {
    this.services.set(id, instance);
  }
  
  resolve(id: string): any {
    const service = this.services.get(id);
    if (!service) {
      throw new Error(`Service ${id} not found`);
    }
    return service;
  }
}

const container = new Container();

// Injectable í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°
function Injectable(id: string) {
  return function<T extends new (...args: any[]) => {}>(constructor: T) {
    // ìƒì„±ì íŒŒë¼ë¯¸í„°ì˜ íƒ€ì… ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    const paramTypes = Reflect.getMetadata('design:paramtypes', constructor) || [];
    
    // ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    const dependencies = paramTypes.map((type: any) => {
      const serviceId = Reflect.getMetadata('serviceId', type);
      return container.resolve(serviceId);
    });
    
    const instance = new constructor(...dependencies);
    container.register(id, instance);
    
    return constructor;
  };
}

// Inject íŒŒë¼ë¯¸í„° ë°ì½”ë ˆì´í„°
function Inject(serviceId: string) {
  return function(target: any, propertyKey: string | symbol | undefined, parameterIndex: number) {
    const existingInjections: { index: number; id: string }[] =
      Reflect.getMetadata('injections', target) || [];
    
    existingInjections.push({ index: parameterIndex, id: serviceId });
    Reflect.defineMetadata('injections', existingInjections, target);
  };
}

// Service í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„° (ê°„ë‹¨ ë²„ì „)
function Service(id: string) {
  return function<T extends new (...args: any[]) => {}>(constructor: T) {
    Reflect.defineMetadata('serviceId', id, constructor);
    const instance = new constructor();
    container.register(id, instance);
    return constructor;
  };
}

// ì„œë¹„ìŠ¤ ì •ì˜
@Service('logger')
class LoggerService {
  log(message: string) {
    console.log(`[LOG] ${message}`);
  }
}

@Service('userRepository')
class UserRepository {
  findById(id: number) {
    return { id, name: 'User', email: 'user@example.com' };
  }
  
  save(user: any) {
    console.log('Saving user:', user);
    return { ...user, id: Date.now() };
  }
}

// ì˜ì¡´ì„± ì£¼ì… ë°›ëŠ” ì„œë¹„ìŠ¤
@Service('userService')
class UserService {
  constructor(
    @Inject('logger') private logger: LoggerService,
    @Inject('userRepository') private userRepository: UserRepository
  ) {}
  
  getUser(id: number) {
    this.logger.log(`Getting user ${id}`);
    return this.userRepository.findById(id);
  }
  
  createUser(name: string, email: string) {
    this.logger.log(`Creating user ${name}`);
    return this.userRepository.save({ name, email });
  }
}

// ì‚¬ìš©
const userService = container.resolve('userService');
console.log(userService.getUser(1));
// ì¶œë ¥:
// [LOG] Getting user 1
// { id: 1, name: 'User', email: 'user@example.com' }

console.log(userService.createUser('í™ê¸¸ë™', 'hong@example.com'));
// ì¶œë ¥:
// [LOG] Creating user í™ê¸¸ë™
// Saving user: { name: 'í™ê¸¸ë™', email: 'hong@example.com' }
// { name: 'í™ê¸¸ë™', email: 'hong@example.com', id: 1234567890 }
```

### ğŸ’¡ ë°ì½”ë ˆì´í„° Best Practices

**1. ëª…í™•í•œ ì´ë¦„ ì‚¬ìš©** 

```typescript
// âœ… ì¢‹ì€ ì´ë¦„
@Log
@Validate
@Cache
@Authorized

// âŒ ë‚˜ìœ ì´ë¦„
@D1
@Process
@Handle
```

**2. ë°ì½”ë ˆì´í„° ìˆœì„œì— ì£¼ì˜**

```typescript
// ë°ì½”ë ˆì´í„°ëŠ” ì•„ë˜ì—ì„œ ìœ„ë¡œ ì‹¤í–‰ë¨
class MyClass {
  @First    // 3ë²ˆì§¸ ì‹¤í–‰
  @Second   // 2ë²ˆì§¸ ì‹¤í–‰
  @Third    // 1ë²ˆì§¸ ì‹¤í–‰
  myMethod() {}
}

// ìˆœì„œê°€ ì¤‘ìš”í•œ ê²½ìš°
class UserService {
  @Log              // ë§ˆì§€ë§‰: ë¡œê·¸ ê¸°ë¡
  @Validate         // ë‘ ë²ˆì§¸: ìœ íš¨ì„± ê²€ì‚¬
  @Authorized       // ì²« ë²ˆì§¸: ê¶Œí•œ í™•ì¸
  createUser(dto: CreateUserDto) {}
}
```

### 3. íƒ€ì… ì•ˆì „ì„± ìœ ì§€

```typescript
// âœ… íƒ€ì… ì•ˆì „í•œ ë°ì½”ë ˆì´í„°
function TypeSafeDecorator<T extends Constructor>(target: T) {
  return class extends target {
    // íƒ€ì… ì •ë³´ ìœ ì§€
  };
}

// âŒ íƒ€ì… ì •ë³´ ì†ì‹¤
function UnsafeDecorator(target: any) {
  return class extends target {
    // any ì‚¬ìš©
  };
}
```

### 4. ë¶€ì‘ìš© ìµœì†Œí™”

```typescript
// âœ… ì¢‹ì€ ë°ì½”ë ˆì´í„° (ìˆœìˆ˜ í•¨ìˆ˜ì )
function Log(target: any, propertyKey: string, descriptor: PropertyDescriptor) {
  const original = descriptor.value;
  descriptor.value = function(...args: any[]) {
    console.log('Logging...');
    return original.apply(this, args);
  };
  return descriptor;
}

// âŒ ë‚˜ìœ ë°ì½”ë ˆì´í„° (ì „ì—­ ìƒíƒœ ë³€ê²½)
let globalCounter = 0;  // ì „ì—­ ë³€ìˆ˜

function BadDecorator(target: any) {
  globalCounter++;  // ë¶€ì‘ìš©!
  return target;
}
```

### 5. ë¬¸ì„œí™”
```typescript
/**
 * ë©”ì„œë“œ ì‹¤í–‰ ì‹œê°„ì„ ì¸¡ì •í•˜ê³  ë¡œê·¸ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
 * 
 * @param threshold - ê²½ê³ ë¥¼ ë°œìƒì‹œí‚¬ ì‹œê°„ ì„ê³„ê°’ (ë°€ë¦¬ì´ˆ)
 * @example
 * class MyService {
 *   @Measure(100)
 *   slowMethod() {
 *     // 100ms ì´ìƒ ê±¸ë¦¬ë©´ ê²½ê³  ë°œìƒ
 *   }
 * }
 */
function Measure(threshold: number) {
  return function(
    target: any,
    propertyKey: string,
    descriptor: PropertyDescriptor
  ) {
    const originalMethod = descriptor.value;
    
    descriptor.value = function(...args: any[]) {
      const start = performance.now();
      const result = originalMethod.apply(this, args);
      const end = performance.now();
      const duration = end - start;
      
      if (duration > threshold) {
        console.warn(`${propertyKey} took ${duration.toFixed(2)}ms`);
      }
      
      return result;
    };
    
    return descriptor;
  };
}
```

---

## ğŸ¯ Chapter 16 ì •ë¦¬

### í•µì‹¬ ê°œë…
```
ë°ì½”ë ˆì´í„°           â†’ í´ë˜ìŠ¤, ë©”ì„œë“œ, í”„ë¡œí¼í‹°ì— ê¸°ëŠ¥ ì¶”ê°€
í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°     â†’ í´ë˜ìŠ¤ ìˆ˜ì • ë° í™•ì¥
ë©”ì„œë“œ ë°ì½”ë ˆì´í„°     â†’ ë©”ì„œë“œ ë™ì‘ ë³€ê²½
í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°   â†’ ì†ì„±ì— ë©”íƒ€ë°ì´í„° ì¶”ê°€
ë§¤ê°œë³€ìˆ˜ ë°ì½”ë ˆì´í„°   â†’ íŒŒë¼ë¯¸í„° ì •ë³´ ì¶”ì¶œ
ë°ì½”ë ˆì´í„° íŒ©í† ë¦¬     â†’ ì„¤ì • ê°€ëŠ¥í•œ ë°ì½”ë ˆì´í„° ìƒì„±
```

### ë°ì½”ë ˆì´í„° ì¢…ë¥˜

| ì¢…ë¥˜ | ì ìš© ëŒ€ìƒ | íŒŒë¼ë¯¸í„° | ìš©ë„ |
|---|---|---|---|
| í´ë˜ìŠ¤ | í´ë˜ìŠ¤ ì„ ì–¸ | constructor | í´ë˜ìŠ¤ ìˆ˜ì •/í™•ì¥ |
| ë©”ì„œë“œ | ë©”ì„œë“œ | target, key, descriptor | ë©”ì„œë“œ ë™ì‘ ë³€ê²½ |
| í”„ë¡œí¼í‹° | ì†ì„± | target, key | ë©”íƒ€ë°ì´í„° ì¶”ê°€ |
| ì ‘ê·¼ì | getter/setter | target, key, descriptor | ì ‘ê·¼ì ìˆ˜ì • |
| ë§¤ê°œë³€ìˆ˜ | íŒŒë¼ë¯¸í„° | target, key, index | íŒŒë¼ë¯¸í„° ì •ë³´ |

### ì‹¤í–‰ ìˆœì„œ
```typescript
// ë°ì½”ë ˆì´í„° ì‹¤í–‰ ìˆœì„œ (ì•„ë˜ì—ì„œ ìœ„ë¡œ)
class Example {
  @First    // 4. ë§ˆì§€ë§‰ ì‹¤í–‰
  @Second   // 3. ì„¸ ë²ˆì§¸ ì‹¤í–‰
  @Third    // 2. ë‘ ë²ˆì§¸ ì‹¤í–‰
  @Fourth   // 1. ì²« ë²ˆì§¸ ì‹¤í–‰
  method() {}
}

// ì—¬ëŸ¬ íƒ€ì…ì˜ ë°ì½”ë ˆì´í„° ìˆœì„œ
@ClassDecorator        // 5. í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°
class Example {
  @PropertyDecorator   // 1. í”„ë¡œí¼í‹° ë°ì½”ë ˆì´í„°
  property: string;
  
  @AccessorDecorator   // 2. ì ‘ê·¼ì ë°ì½”ë ˆì´í„°
  get value() {}
  
  method(
    @ParameterDecorator // 3. ë§¤ê°œë³€ìˆ˜ ë°ì½”ë ˆì´í„°
    param: string
  ) {}
  
  @MethodDecorator     // 4. ë©”ì„œë“œ ë°ì½”ë ˆì´í„°
  method2() {}
}
```

### í•„ìˆ˜ ì„¤ì •
```json
// tsconfig.json
{
  "compilerOptions": {
    "experimentalDecorators": true,        // ë°ì½”ë ˆì´í„° í™œì„±í™”
    "emitDecoratorMetadata": true          // ë©”íƒ€ë°ì´í„° ë°©ì¶œ (ì„ íƒ)
  }
}
```

### ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´
```typescript
// 1. ë¡œê¹…
@Log
method() {}

// 2. ìœ íš¨ì„± ê²€ì‚¬
@Validate
createUser(dto: UserDto) {}

// 3. ìºì‹±
@Cache({ ttl: 5000 })
getData() {}

// 4. ê¶Œí•œ í™•ì¸
@Authorized('admin')
deleteUser() {}

// 5. ì„±ëŠ¥ ì¸¡ì •
@Measure(100)
slowMethod() {}

// 6. ì¬ì‹œë„
@Retry({ times: 3, delay: 1000 })
async fetchData() {}

// 7. íŠ¸ëœì­ì…˜
@Transactional
async saveData() {}

// 8. ì˜ì¡´ì„± ì£¼ì…
constructor(@Inject('service') service: Service) {}
```

### ì‹¤ì „ í™œìš©

```typescript
// ì™„ì „í•œ CRUD ì„œë¹„ìŠ¤ ì˜ˆì‹œ
@Injectable('userService')
class UserService {
  constructor(
    @Inject('logger') private logger: Logger,
    @Inject('userRepository') private repo: UserRepository
  ) {}
  
  @Log({ level: 'info' })
  @Measure(100)
  async getAll() {
    return this.repo.findAll();
  }
  
  @Log({ level: 'info' })
  @Validate
  @Measure(200)
  async create(dto: CreateUserDto) {
    return this.repo.save(dto);
  }
  
  @Log({ level: 'info' })
  @Authorized('admin')
  @Measure(200)
  async delete(id: number) {
    return this.repo.delete(id);
  }
  
  @Cache({ ttl: 60000 })
  @Retry({ times: 3, delay: 1000 })
  async fetchFromApi(url: string) {
    const response = await fetch(url);
    return response.json();
  }
}
```

### ì£¼ì˜ì‚¬í•­

```typescript
// âŒ í”¼í•´ì•¼ í•  ê²ƒ

// 1. ë°ì½”ë ˆì´í„° ë‚´ì—ì„œ ì „ì—­ ìƒíƒœ ë³€ê²½
let count = 0;
function Bad(target: any) {
  count++;  // ì „ì—­ ë³€ìˆ˜ ìˆ˜ì •
}

// 2. ê³¼ë„í•œ ë°ì½”ë ˆì´í„° ì¤‘ì²©
@Decorator1
@Decorator2
@Decorator3
@Decorator4
@Decorator5  // ë„ˆë¬´ ë§ìŒ
method() {}

// 3. íƒ€ì… ì•ˆì „ì„± ë¬´ì‹œ
function Unsafe(target: any) {  // any ë‚¨ìš©
  return target;
}

// 4. ë³µì¡í•œ ë¡œì§ì„ ë°ì½”ë ˆì´í„°ì—
function Complex(target: any) {
  // 100ì¤„ì˜ ë³µì¡í•œ ë¡œì§... âŒ
}

// âœ… ê¶Œì¥ì‚¬í•­

// 1. ëª…í™•í•œ ë‹¨ì¼ ì±…ì„
@Log        // ë¡œê¹…ë§Œ
@Validate   // ê²€ì¦ë§Œ
@Cache      // ìºì‹±ë§Œ

// 2. íƒ€ì… ì•ˆì „ì„± ìœ ì§€
function Safe<T extends Constructor>(target: T) {
  return target;
}

// 3. ê°„ë‹¨í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ
function Simple(config: Config) {
  return function(target: any) {
    // ê°„ë‹¨í•œ ë¡œì§
  };
}

// 4. ë¬¸ì„œí™”
/** ë©”ì„œë“œ ì‹¤í–‰ ì‹œê°„ì„ ì¸¡ì •í•©ë‹ˆë‹¤ */
function Measure() {}
```
