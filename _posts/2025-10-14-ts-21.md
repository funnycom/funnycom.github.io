---
title: "[TS] HTTP와 API 다루기 - 6"
date: 2025-10-14 23:30:00 +0900
categories: [웹 개발, 타입스크립트]
tags: [웹개발, 타입스크립트, TS, http, api]
pin: true
math: true
mermaid: true
published: false
---

> **학습 목표**
> - HTTP 프로토콜이 무엇인지 이해한다
> - REST API의 개념과 설계 원칙을 안다
> - TypeScript에서 API를 호출하고 응답을 처리할 수 있다
> - async/await를 사용하여 비동기 코드를 작성할 수 있다
> - 타입 안전한 API 통신을 구현할 수 있다
> - 에러 처리와 로딩 상태를 관리할 수 있다

--- 

## ✅ 체크포인트

이번 챕터를 마치기 전에 다음 항목을 확인해보세요:

- [ ] HTTP 프로토콜이 무엇인지 설명할 수 있다
- [ ] 클라이언트-서버 모델을 이해한다
- [ ] HTTP 메서드(GET, POST, PUT, PATCH, DELETE)를 구분할 수 있다
- [ ] HTTP 상태 코드를 이해한다
- [ ] REST API의 개념을 안다
- [ ] JSON 데이터 형식을 다룰 수 있다
- [ ] fetch API를 사용할 수 있다
- [ ] async/await로 비동기 코드를 작성할 수 있다
- [ ] Promise를 이해한다
- [ ] 타입 안전한 API 호출을 구현할 수 있다
- [ ] 에러 처리를 할 수 있다
- [ ] 공개 API를 활용할 수 있다
- [ ] 재사용 가능한 API 클래스를 만들 수 있다

### 자가 진단 퀴즈

**1. HTTP GET과 POST의 차이는?**

A. GET은 데이터를 조회, POST는 데이터를 생성  
B. GET은 빠르고, POST는 느리다  
C. GET은 안전하고, POST는 위험하다  
D. 차이가 없다

<details>
<summary>정답 보기</summary>

**정답: A**

GET은 데이터를 조회(Read)할 때, POST는 데이터를 생성(Create)할 때 사용합니다. GET은 URL에 데이터가 노출되고, POST는 바디에 데이터를 담아 보냅니다.

</details>

---

**2. HTTP 상태 코드 404의 의미는?**

A. 성공  
B. 서버 오류  
C. 리소스를 찾을 수 없음  
D. 권한 없음

<details>
<summary>정답 보기</summary>

**정답: C**

404 Not Found는 요청한 리소스를 찾을 수 없을 때 반환됩니다. 예를 들어, 존재하지 않는 사용자 ID를 조회할 때 발생합니다.

</details>

---

**3. async/await의 장점은?**

A. 코드 실행 속도가 빨라진다  
B. 비동기 코드를 동기 코드처럼 작성할 수 있다  
C. 에러가 발생하지 않는다  
D. 타입 체크가 자동으로 된다

<details>
<summary>정답 보기</summary>

**정답: B**

async/await는 비동기 코드를 마치 동기 코드처럼 작성할 수 있게 해주어 가독성을 크게 향상시킵니다. 실행 속도나 에러 발생 여부와는 관계없습니다.

</details>

---

**4. fetch API에서 response.ok의 의미는?**

A. 응답을 받았음  
B. HTTP 상태 코드가 200-299 범위  
C. 데이터가 있음  
D. 에러가 없음

<details>
<summary>정답 보기</summary>

**정답: B**

`response.ok`는 HTTP 상태 코드가 200-299 범위일 때 `true`입니다. 성공적인 응답인지 간단히 확인할 수 있습니다.

</details>

---

**5. REST API에서 PUT과 PATCH의 차이는?**

A. PUT은 생성, PATCH는 수정  
B. PUT은 전체 수정, PATCH는 부분 수정  
C. PUT은 삭제, PATCH는 수정  
D. 차이가 없다

<details>
<summary>정답 보기</summary>

**정답: B**

PUT은 리소스 전체를 교체하고, PATCH는 리소스의 일부만 수정합니다. 예를 들어, 사용자의 이름만 바꿀 때는 PATCH를 사용하는 것이 적절합니다.

</details>

---

## 💡 학습 팁

### API 학습 팁

**1. 공개 API로 연습하기**

```
추천 무료 공개 API:

1. JSONPlaceholder (https://jsonplaceholder.typicode.com)
   - 가장 쉬움
   - 인증 불필요
   - 모든 HTTP 메서드 지원

2. OpenWeather (https://openweathermap.org/api)
   - 무료 플랜 제공
   - API 키 필요
   - 실전 경험

3. GitHub API (https://api.github.com)
   - 실제 데이터
   - 문서화 잘 됨
   - 인증 선택사항

4. PokeAPI (https://pokeapi.co)
   - 재미있는 데이터
   - 인증 불필요
   - 복잡한 데이터 구조
```

**2. 단계별 학습**

```
Step 1: GET으로 데이터 가져오기
  → 화면에 출력하기

Step 2: POST로 데이터 생성하기
  → 생성된 데이터 확인

Step 3: PUT/PATCH로 수정하기
  → 수정 전후 비교

Step 4: DELETE로 삭제하기
  → 삭제 확인

Step 5: 에러 처리 추가
  → 다양한 에러 상황 대응

Step 6: 재사용 가능한 클래스로 리팩토링
  → 코드 정리 및 개선
```

**3. 개발자 도구 활용**

브라우저 개발자 도구의 Network 탭을 활용하세요:

```
1. F12 또는 우클릭 → 검사
2. Network 탭 열기
3. API 호출 실행
4. 요청/응답 확인
   - Headers (헤더)
   - Payload (전송 데이터)
   - Response (응답 데이터)
```

**4. 에러 디버깅**

```typescript
// 에러 디버깅 체크리스트

1. URL이 올바른가?
   console.log("URL:", url);

2. HTTP 메서드가 맞는가?
   console.log("Method:", method);

3. 헤더가 올바른가?
   console.log("Headers:", headers);

4. 바디 데이터가 올바른가?
   console.log("Body:", JSON.stringify(body));

5. 응답은 받았는가?
   console.log("Response:", response);

6. 상태 코드는?
   console.log("Status:", response.status);

7. 에러 메시지는?
   console.log("Error:", error.message);
```

### 일반적인 실수와 해결법

**실수 1: JSON.stringify 누락**

```typescript
// ❌ 에러
fetch(url, {
  method: "POST",
  body: { name: "홍길동" }  // 객체를 직접 전달
});

// ✅ 올바름
fetch(url, {
  method: "POST",
  body: JSON.stringify({ name: "홍길동" })  // JSON 문자열로 변환
});
```

**실수 2: Content-Type 헤더 누락**

```typescript
// ❌ 에러 (서버가 데이터 형식을 모름)
fetch(url, {
  method: "POST",
  body: JSON.stringify(data)
});

// ✅ 올바름
fetch(url, {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify(data)
});
```

**실수 3: response.ok 체크 안 함**

```typescript
// ❌ HTTP 에러를 놓침
const response = await fetch(url);
const data = await response.json();  // 404여도 실행됨

// ✅ HTTP 에러 체크
const response = await fetch(url);
if (!response.ok) {
  throw new Error(\`HTTP error! status: \${response.status}\`);
}
const data = await response.json();
```

**실수 4: await 키워드 누락**

```typescript
// ❌ Promise를 기다리지 않음
async function getUser() {
  const response = fetch(url);  // await 누락!
  const data = response.json();  // 에러!
}

// ✅ Promise를 기다림
async function getUser() {
  const response = await fetch(url);
  const data = await response.json();
}
```

**실수 5: try-catch 없이 사용**

```typescript
// ❌ 에러가 발생하면 프로그램 중단
async function getUser() {
  const response = await fetch(url);
  const data = await response.json();
  return data;
}

// ✅ 에러 처리
async function getUser() {
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(\`HTTP error! status: \${response.status}\`);
    }
    const data = await response.json();
    return data;
  } catch (error) {
    console.error("Error:", error);
    return null;
  }
}
```

---

## 🎯 다음 단계

**축하합니다! HTTP와 API를 마스터했습니다! 🎉**

이제 여러분은:
- ✅ HTTP 프로토콜을 이해했습니다
- ✅ REST API를 사용할 수 있습니다
- ✅ TypeScript로 API를 호출할 수 있습니다
- ✅ 에러를 처리할 수 있습니다
- ✅ 재사용 가능한 API 클래스를 만들 수 있습니다

**다음은 실전 프로젝트입니다!**

배운 모든 내용을 활용하여:
1. **Project 1: Todo 앱 with API** - API 연동 기초
2. **Project 2: 도서관 관리 시스템** - 복잡한 비즈니스 로직
3. **Project 3: 날씨 대시보드** - 실시간 API 활용

각 프로젝트를 통해 실전 경험을 쌓고, TypeScript와 API를 완벽하게 마스터하세요!

**준비되셨나요? 프로젝트를 시작해봅시다! 🚀**
