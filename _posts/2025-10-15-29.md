---
title: "[Projects] ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œ - 3"
date: 2025-10-15 16:30:00 +0900
categories: [ì›¹ ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸]
tags: [ì›¹ê°œë°œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸, TS]
pin: true
math: true
mermaid: true
---

# Project 2: ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œ

> **í”„ë¡œì íŠ¸ ëª©í‘œ**
> - í´ë˜ìŠ¤ ìƒì†ê³¼ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‹¤ì „ì— ì ìš©í•œë‹¤
> - ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•œë‹¤
> - ì—¬ëŸ¬ ì—”í‹°í‹° ê°„ì˜ ê´€ê³„ë¥¼ ê´€ë¦¬í•œë‹¤
> - ë‚ ì§œ ê³„ì‚° ë° ì—°ì²´ ì²˜ë¦¬ë¥¼ êµ¬í˜„í•œë‹¤
> - AIì™€ í˜‘ì—…í•˜ë˜ ë” ììœ¨ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•œë‹¤

---

---

## ë¶€ë¡: ì™„ì„± ì½”ë“œ êµ¬ì¡° ì˜ˆì‹œ

### ğŸ“Œ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
library-system/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ book.types.ts
â”‚   â”‚   â”œâ”€â”€ member.types.ts
â”‚   â”‚   â””â”€â”€ loan.types.ts
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Book.ts
â”‚   â”‚   â”œâ”€â”€ Member.ts           # ë°©ë²• A
â”‚   â”‚   â”œâ”€â”€ AbstractMember.ts   # ë°©ë²• B
â”‚   â”‚   â”œâ”€â”€ RegularMember.ts    # ë°©ë²• B
â”‚   â”‚   â”œâ”€â”€ VIPMember.ts        # ë°©ë²• B
â”‚   â”‚   â””â”€â”€ Loan.ts
â”‚   â”œâ”€â”€ managers/
â”‚   â”‚   â””â”€â”€ LibraryManager.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ dateUtils.ts
â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ Book.test.ts
â”‚   â”œâ”€â”€ Member.test.ts
â”‚   â”œâ”€â”€ Loan.test.ts
â”‚   â””â”€â”€ LibraryManager.test.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

### ğŸ“ í•µì‹¬ ì½”ë“œ ìŠ¤ë‹ˆí«

**types/book.types.ts**
```typescript
/**
 * ì±… ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤
 */
export interface IBook {
  /** ISBN (êµ­ì œ í‘œì¤€ ë„ì„œ ë²ˆí˜¸) */
  readonly isbn: string;
  /** ì œëª© */
  title: string;
  /** ì €ì */
  author: string;
  /** ì¶œíŒ ì—°ë„ */
  publishedYear: number;
  /** ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€ */
  isAvailable: boolean;
  /** ì¹´í…Œê³ ë¦¬ (ì„ íƒì ) */
  category?: BookCategory;
}

/**
 * ì±… ì¹´í…Œê³ ë¦¬
 */
export type BookCategory = "fiction" | "non-fiction" | "science" | "history" | "other";
```

**models/Book.ts**
```typescript
import { IBook, BookCategory } from "../types/book.types";

/**
 * ì±… í´ë˜ìŠ¤
 */
export class Book implements IBook {
  constructor(
    public readonly isbn: string,
    public title: string,
    public author: string,
    public publishedYear: number,
    public isAvailable: boolean = true,
    public category?: BookCategory
  ) {}

  /**
   * ì±… ì •ë³´ë¥¼ ë¬¸ìì—´ë¡œ ë°˜í™˜
   */
  getInfo(): string {
    return `[${this.isbn}] ${this.title} - ${this.author} (${this.publishedYear})`;
  }

  /**
   * ëŒ€ì¶œ ì²˜ë¦¬
   * @returns ì„±ê³µ ì—¬ë¶€
   */
  checkout(): boolean {
    if (!this.isAvailable) {
      console.log(`âŒ "${this.title}"ì€(ëŠ”) ì´ë¯¸ ëŒ€ì¶œ ì¤‘ì…ë‹ˆë‹¤.`);
      return false;
    }
    this.isAvailable = false;
    return true;
  }

  /**
   * ë°˜ë‚© ì²˜ë¦¬
   * @returns ì„±ê³µ ì—¬ë¶€
   */
  returnBook(): boolean {
    if (this.isAvailable) {
      console.log(`âŒ "${this.title}"ì€(ëŠ”) ëŒ€ì¶œ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤.`);
      return false;
    }
    this.isAvailable = true;
    return true;
  }
}
```

**models/AbstractMember.ts (ë°©ë²• B - ìƒì† êµ¬ì¡°)**
```typescript
/**
 * ì¶”ìƒ íšŒì› í´ë˜ìŠ¤
 */
export abstract class Member {
  protected borrowedBooks: string[] = [];
  protected readonly registeredDate: Date;

  constructor(
    protected readonly id: string,
    protected name: string
  ) {
    this.registeredDate = new Date();
  }

  /**
   * íšŒì› ID ë°˜í™˜
   */
  getId(): string {
    return this.id;
  }

  /**
   * íšŒì› ì´ë¦„ ë°˜í™˜
   */
  getName(): string {
    return this.name;
  }

  /**
   * ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
   */
  canBorrow(): boolean {
    return this.getBorrowedCount() < this.getMaxBorrowLimit();
  }

  /**
   * ëŒ€ì¶œ ì¤‘ì¸ ì±… ì¶”ê°€
   */
  addBorrowedBook(isbn: string): void {
    if (!this.borrowedBooks.includes(isbn)) {
      this.borrowedBooks.push(isbn);
    }
  }

  /**
   * ëŒ€ì¶œ ì¤‘ì¸ ì±… ì œê±°
   */
  removeBorrowedBook(isbn: string): boolean {
    const index = this.borrowedBooks.indexOf(isbn);
    if (index === -1) {
      return false;
    }
    this.borrowedBooks.splice(index, 1);
    return true;
  }

  /**
   * í˜„ì¬ ëŒ€ì¶œ ì¤‘ì¸ ì±… ê°œìˆ˜
   */
  getBorrowedCount(): number {
    return this.borrowedBooks.length;
  }

  /**
   * ëŒ€ì¶œ ì¤‘ì¸ ì±… ëª©ë¡
   */
  getBorrowedBooks(): string[] {
    return [...this.borrowedBooks];
  }

  /**
   * ìµœëŒ€ ëŒ€ì¶œ ê°€ëŠ¥ ê¶Œìˆ˜ (ì¶”ìƒ ë©”ì„œë“œ)
   */
  abstract getMaxBorrowLimit(): number;

  /**
   * íšŒì› ë“±ê¸‰ (ì¶”ìƒ ë©”ì„œë“œ)
   */
  abstract getMemberType(): string;
}
```

**models/RegularMember.ts**
```typescript
import { Member } from "./AbstractMember";

/**
 * ì¼ë°˜ íšŒì› í´ë˜ìŠ¤
 */
export class RegularMember extends Member {
  constructor(id: string, name: string) {
    super(id, name);
  }

  getMaxBorrowLimit(): number {
    return 3;
  }

  getMemberType(): string {
    return "ì¼ë°˜ íšŒì›";
  }
}
```

**models/VIPMember.ts**
```typescript
import { Member } from "./AbstractMember";

/**
 * ìš°ìˆ˜ íšŒì› í´ë˜ìŠ¤
 */
export class VIPMember extends Member {
  constructor(id: string, name: string) {
    super(id, name);
  }

  getMaxBorrowLimit(): number {
    return 5;
  }

  getMemberType(): string {
    return "ìš°ìˆ˜ íšŒì›";
  }
}
```

**models/Loan.ts**
```typescript
/**
 * ëŒ€ì¶œ í´ë˜ìŠ¤
 */
export class Loan {
  private readonly borrowDate: Date;
  private readonly dueDate: Date;
  private returnDate: Date | null = null;

  constructor(
    public readonly id: string,
    public readonly bookIsbn: string,
    public readonly memberId: string
  ) {
    this.borrowDate = new Date();
    this.dueDate = this.calculateDueDate(this.borrowDate, 14);
  }

  /**
   * ë°˜ë‚© ì˜ˆì •ì¼ ê³„ì‚°
   */
  private calculateDueDate(borrowDate: Date, days: number): Date {
    const dueDate = new Date(borrowDate);
    dueDate.setDate(dueDate.getDate() + days);
    return dueDate;
  }

  /**
   * ì—°ì²´ ì—¬ë¶€ í™•ì¸
   */
  isOverdue(): boolean {
    if (this.returnDate !== null) {
      return false;
    }
    return new Date() > this.dueDate;
  }

  /**
   * ì—°ì²´ ì¼ìˆ˜ ê³„ì‚°
   */
  getOverdueDays(): number {
    if (!this.isOverdue()) {
      return 0;
    }
    const today = new Date();
    const diffTime = today.getTime() - this.dueDate.getTime();
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    return diffDays;
  }

  /**
   * ë°˜ë‚© ì²˜ë¦¬
   */
  returnBook(): void {
    this.returnDate = new Date();
  }

  /**
   * ë°˜ë‚© ì™„ë£Œ ì—¬ë¶€
   */
  isReturned(): boolean {
    return this.returnDate !== null;
  }

  /**
   * ëŒ€ì¶œ ì •ë³´ ë¬¸ìì—´
   */
  getLoanInfo(): string {
    const borrowDateStr = this.borrowDate.toLocaleDateString();
    const dueDateStr = this.dueDate.toLocaleDateString();
    return `íšŒì› ${this.memberId}ì´(ê°€) ${this.bookIsbn}ì„(ë¥¼) ${borrowDateStr}ì— ëŒ€ì¶œ (ë°˜ë‚© ì˜ˆì •: ${dueDateStr})`;
  }

  /**
   * ëŒ€ì¶œì¼ ë°˜í™˜
   */
  getBorrowDate(): Date {
    return new Date(this.borrowDate);
  }

  /**
   * ë°˜ë‚© ì˜ˆì •ì¼ ë°˜í™˜
   */
  getDueDate(): Date {
    return new Date(this.dueDate);
  }

  /**
   * ë°˜ë‚©ì¼ ë°˜í™˜
   */
  getReturnDate(): Date | null {
    return this.returnDate ? new Date(this.returnDate) : null;
  }
}
```

**managers/LibraryManager.ts (ì£¼ìš” ë©”ì„œë“œë§Œ)**
```typescript
import { Book } from "../models/Book";
import { Member } from "../models/AbstractMember";
import { Loan } from "../models/Loan";

/**
 * ë„ì„œê´€ í†µê³„ ì¸í„°í˜ì´ìŠ¤
 */
export interface LibraryStatistics {
  totalBooks: number;
  availableBooks: number;
  borrowedBooks: number;
  totalMembers: number;
  activeLoans: number;
  overdueLoans: number;
  totalLoans: number;
}

/**
 * ë„ì„œê´€ ê´€ë¦¬ í´ë˜ìŠ¤
 */
export class LibraryManager {
  private books: Map<string, Book> = new Map();
  private members: Map<string, Member> = new Map();
  private loans: Map<string, Loan> = new Map();
  private nextLoanId: number = 1;

  /**
   * ì±… ì¶”ê°€
   */
  addBook(book: Book): void {
    if (this.books.has(book.isbn)) {
      throw new Error(`ISBN ${book.isbn}ì€(ëŠ”) ì´ë¯¸ ë“±ë¡ëœ ì±…ì…ë‹ˆë‹¤.`);
    }
    this.books.set(book.isbn, book);
    console.log(`âœ… ì±…ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤: ${book.getInfo()}`);
  }

  /**
   * íšŒì› ë“±ë¡
   */
  registerMember(member: Member): void {
    if (this.members.has(member.getId())) {
      throw new Error(`íšŒì› ID ${member.getId()}ì€(ëŠ”) ì´ë¯¸ ë“±ë¡ë˜ì–´ ìˆìŠµë‹ˆë‹¤.`);
    }
    this.members.set(member.getId(), member);
    console.log(`âœ… íšŒì›ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤: ${member.getName()} (${member.getMemberType()})`);
  }

  /**
   * ì±… ëŒ€ì¶œ
   */
  borrowBook(memberId: string, isbn: string): Loan | null {
    // 1. íšŒì› í™•ì¸
    const member = this.members.get(memberId);
    if (!member) {
      console.log(`âŒ íšŒì› ID ${memberId}ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
      return null;
    }

    // 2. ì±… í™•ì¸
    const book = this.books.get(isbn);
    if (!book) {
      console.log(`âŒ ISBN ${isbn}ì˜ ì±…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
      return null;
    }

    // 3. ëŒ€ì¶œ ê°€ëŠ¥ ì—¬ë¶€ ê²€ì¦
    if (!book.isAvailable) {
      console.log(`âŒ "${book.title}"ì€(ëŠ”) ì´ë¯¸ ëŒ€ì¶œ ì¤‘ì…ë‹ˆë‹¤.`);
      return null;
    }

    if (!member.canBorrow()) {
      console.log(`âŒ ${member.getName()}ë‹˜ì€ ëŒ€ì¶œ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.`);
      return null;
    }

    // 4. ëŒ€ì¶œ ì²˜ë¦¬
    const loanId = `L${String(this.nextLoanId++).padStart(3, "0")}`;
    const loan = new Loan(loanId, isbn, memberId);

    book.checkout();
    member.addBorrowedBook(isbn);
    this.loans.set(loanId, loan);

    console.log(`âœ… ëŒ€ì¶œ ì™„ë£Œ: ${member.getName()}ë‹˜ì´ "${book.title}"ì„(ë¥¼) ëŒ€ì¶œí–ˆìŠµë‹ˆë‹¤.`);
    return loan;
  }

  /**
   * ì±… ë°˜ë‚©
   */
  returnBook(loanId: string): boolean {
    // 1. ëŒ€ì¶œ ê¸°ë¡ í™•ì¸
    const loan = this.loans.get(loanId);
    if (!loan) {
      console.log(`âŒ ëŒ€ì¶œ ê¸°ë¡ ${loanId}ì„(ë¥¼) ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
      return false;
    }

    // 2. ì´ë¯¸ ë°˜ë‚© í™•ì¸
    if (loan.isReturned()) {
      console.log(`âŒ ì´ë¯¸ ë°˜ë‚©ëœ ëŒ€ì¶œì…ë‹ˆë‹¤.`);
      return false;
    }

    // 3. ë°˜ë‚© ì²˜ë¦¬
    const book = this.books.get(loan.bookIsbn);
    const member = this.members.get(loan.memberId);

    if (!book || !member) {
      console.log(`âŒ ë°˜ë‚© ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.`);
      return false;
    }

    loan.returnBook();
    book.returnBook();
    member.removeBorrowedBook(loan.bookIsbn);

    // 4. ì—°ì²´ í™•ì¸
    if (loan.getOverdueDays() > 0) {
      const overdueDays = loan.getOverdueDays();
      const fine = overdueDays * 100;
      console.log(`âš ï¸ ì—°ì²´: ${overdueDays}ì¼ (ì—°ì²´ë£Œ: ${fine}ì›)`);
    }

    console.log(`âœ… ë°˜ë‚© ì™„ë£Œ: ${member.getName()}ë‹˜ì´ "${book.title}"ì„(ë¥¼) ë°˜ë‚©í–ˆìŠµë‹ˆë‹¤.`);
    return true;
  }

  /**
   * ì±… ê²€ìƒ‰
   */
  searchBooks(query: string): Book[] {
    const lowerQuery = query.toLowerCase();
    return Array.from(this.books.values()).filter(
      book =>
        book.title.toLowerCase().includes(lowerQuery) ||
        book.author.toLowerCase().includes(lowerQuery)
    );
  }

  /**
   * í†µê³„ ì¡°íšŒ
   */
  getStatistics(): LibraryStatistics {
    const allBooks = Array.from(this.books.values());
    const allLoans = Array.from(this.loans.values());
    const activeLoans = allLoans.filter(loan => !loan.isReturned());
    const overdueLoans = activeLoans.filter(loan => loan.isOverdue());

    return {
      totalBooks: allBooks.length,
      availableBooks: allBooks.filter(book => book.isAvailable).length,
      borrowedBooks: allBooks.filter(book => !book.isAvailable).length,
      totalMembers: this.members.size,
      activeLoans: activeLoans.length,
      overdueLoans: overdueLoans.length,
      totalLoans: allLoans.length
    };
  }

  /**
   * í†µê³„ ì¶œë ¥
   */
  printStatistics(): void {
    const stats = this.getStatistics();
    console.log("\nğŸ“Š === ë„ì„œê´€ í†µê³„ ===");
    console.log(`ì „ì²´ ì¥ì„œ: ${stats.totalBooks}ê¶Œ`);
    console.log(`ëŒ€ì¶œ ê°€ëŠ¥: ${stats.availableBooks}ê¶Œ`);
    console.log(`ëŒ€ì¶œ ì¤‘: ${stats.borrowedBooks}ê¶Œ`);
    console.log(`ì „ì²´ íšŒì›: ${stats.totalMembers}ëª…`);
    console.log(`í˜„ì¬ ëŒ€ì¶œ: ${stats.activeLoans}ê±´`);
    console.log(`ì—°ì²´: ${stats.overdueLoans}ê±´`);
    console.log(`ì´ ëŒ€ì¶œ ì´ë ¥: ${stats.totalLoans}ê±´`);
  }
}
```

**index.ts (ì‚¬ìš© ì˜ˆì‹œ)**
```typescript
import { LibraryManager } from "./managers/LibraryManager";
import { Book } from "./models/Book";
import { RegularMember, VIPMember } from "./models";

async function main() {
  console.log("=== ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œ ===\n");

  // 1. ë„ì„œê´€ ìƒì„±
  const library = new LibraryManager();

  // 2. ì±… ì¶”ê°€
  console.log("ğŸ“š === ì±… ì¶”ê°€ ===");
  library.addBook(new Book("978-1", "TypeScript í”„ë¡œê·¸ë˜ë°", "í™ê¸¸ë™", 2024, true, "non-fiction"));
  library.addBook(new Book("978-2", "í´ë¦° ì½”ë“œ", "ë¡œë²„íŠ¸ ë§ˆí‹´", 2008, true, "non-fiction"));
  library.addBook(new Book("978-3", "í•´ë¦¬ í¬í„°", "J.K. ë¡¤ë§", 1997, true, "fiction"));

  // 3. íšŒì› ë“±ë¡
  console.log("\nğŸ‘¤ === íšŒì› ë“±ë¡ ===");
  const member1 = new RegularMember("M001", "í™ê¸¸ë™");
  const member2 = new VIPMember("M002", "ê¹€ì² ìˆ˜");
  library.registerMember(member1);
  library.registerMember(member2);

  // 4. ëŒ€ì¶œ
  console.log("\nğŸ“– === ëŒ€ì¶œ ===");
  const loan1 = library.borrowBook("M001", "978-1");
  const loan2 = library.borrowBook("M001", "978-2");

  // 5. í†µê³„
  library.printStatistics();

  // 6. ë°˜ë‚©
  console.log("\nğŸ“¥ === ë°˜ë‚© ===");
  if (loan1) {
    library.returnBook(loan1.id);
  }

  // 7. ìµœì¢… í†µê³„
  library.printStatistics();
}

main().catch(console.error);
```

---

## ğŸ”§ ì‹¤í–‰ ë°©ë²•

**1. í”„ë¡œì íŠ¸ ì„¤ì •**
```bash
mkdir library-system
cd library-system
npm init -y
npm install typescript @types/node --save-dev
npx tsc --init
```

**2. tsconfig.json ì„¤ì •**
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
```

**3. ì‹¤í–‰**
```bash
npm run dev
```

---

## ğŸ“š í•™ìŠµ ë¦¬ì†ŒìŠ¤

### ì¶”ê°€ í•™ìŠµ ìë£Œ

**ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°:**
- SOLID ì›ì¹™
- ë””ìì¸ íŒ¨í„´ (Observer, Strategy, Factory ë“±)
- ìƒì† vs ì»´í¬ì§€ì…˜

**TypeScript ê³ ê¸‰:**
- ìœ í‹¸ë¦¬í‹° íƒ€ì…
- ì¡°ê±´ë¶€ íƒ€ì…
- ë§¤í•‘ íƒ€ì…

**ì¶”ì²œ ë„ì„œ:**
- "Head First Design Patterns"
- "Refactoring" by Martin Fowler

---

## ğŸ¯ ë‹¤ìŒ í”„ë¡œì íŠ¸ ì˜ˆê³ 

**Project 3: ë‚ ì”¨ ëŒ€ì‹œë³´ë“œ ì•±**

ì´ì œ ë§ˆì§€ë§‰ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤:

- **ë‚œì´ë„**: â­â­â­â­â˜†
- **ì†Œìš” ì‹œê°„**: 4-6ì‹œê°„
- **íŠ¹ì§•**:
  - ì‹¤ì‹œê°„ API ì—°ë™ ì¤‘ì‹¬
  - ë°ì´í„° ì‹œê°í™”
  - ìºì‹± ì „ëµ
  - ì—ëŸ¬ ì²˜ë¦¬ ê³ ê¸‰
  - ì™„ì „ ììœ¨ ì§„í–‰

- **í•µì‹¬ í•™ìŠµ**:
  - ì™¸ë¶€ API ë§ˆìŠ¤í„°
  - ë°ì´í„° ìºì‹±
  - ë¹„ë™ê¸° íŒ¨í„´ ê³ ê¸‰
  - ì‚¬ìš©ì ê²½í—˜ ìµœì í™”

ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?

**ë‹¤ìŒ í”„ë¡œì íŠ¸ì—ì„œ ë§Œë‚˜ìš”! ğŸŒ¤ï¸**

