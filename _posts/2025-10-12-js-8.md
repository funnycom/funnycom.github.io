---
title: "[JS기초] 배열과 객체 다루기 - 5"
date: 2025-10-12 20:20:00 +0900
categories: [웹 개발, 자바스크립트]
tags: [웹개발, 자바스크립트, 배열, 객체]
pin: true
math: true
mermaid: true
published: false
---

> **학습 목표**
> - 

---

## AI 없이 도전
**시간 제한:** 30분  
**힌트:** 하나씩 차근차근 풀어보세요. 막히면 이전에 배운 map, filter, reduce를 떠올려보세요!

**막혔을 때 대처법:**

1. **15분 이상 고민했는데 안 풀린다면:**
   - 한 단계씩 쪼개서 생각해보기
   - console.log()로 중간 결과 확인하기
   - 비슷한 예제 코드 다시 보기

2. **에러가 계속 나온다면:**
   - 에러 메시지를 자세히 읽어보기
   - 변수 이름, 괄호, 쉼표 확인하기
   - 작은 부분부터 테스트하기

3. **정답을 봤다면:**
   - 코드를 직접 타이핑해보기 (복붙 X)
   - 각 줄이 왜 필요한지 이해하기
   - 다른 데이터로도 테스트해보기

4. **완전히 이해한 후:**
   - 자신만의 방법으로 다시 작성해보기
   - 비슷한 문제 만들어서 풀어보기

### 과제: 성적 관리 시스템

**요구사항:**

다음 학생 데이터를 사용하여 요구사항을 충족하는 함수들을 작성하세요.

```javascript
const students = [
  { name: "홍길동", korean: 85, math: 90, english: 88 },
  { name: "김철수", korean: 92, math: 88, english: 95 },
  { name: "이영희", korean: 78, math: 95, english: 82 },
  { name: "박민수", korean: 95, math: 92, english: 90 }
];
```

**구현할 기능:**

**1. 평균 점수 추가**

각 학생에게 average 속성을 추가하세요. (소수점 2자리까지)

```javascript
function addAverageScore(students) {
  // 여기를 완성하세요
}

// 예상 결과:
// [
//   { name: "홍길동", korean: 85, math: 90, english: 88, average: 87.67 },
//   { name: "김철수", korean: 92, math: 88, english: 95, average: 91.67 },
//   ...
// ]
```

**2. 과목별 평균**

국어, 수학, 영어 각각의 반 평균을 계산하세요.

```javascript
function getSubjectAverages(students) {
  // 여기를 완성하세요
}

// 예상 결과:
// {
//   korean: 87.5,
//   math: 91.25,
//   english: 88.75
// }
```

**3. 우등생 찾기**

평균 90점 이상인 학생들을 찾으세요.

```javascript
function getHonorStudents(students) {
  // 여기를 완성하세요
}

// 예상 결과:
// [
//   { name: "김철수", average: 91.67 },
//   { name: "박민수", average: 92.33 }
// ]
```

**4. 등수 매기기**

평균 점수로 등수를 계산하여 rank 속성을 추가하세요.

```javascript
function addRanking(students) {
  // 여기를 완성하세요
}

// 예상 결과:
// [
//   { name: "박민수", average: 92.33, rank: 1 },
//   { name: "김철수", average: 91.67, rank: 2 },
//   { name: "홍길동", average: 87.67, rank: 3 },
//   { name: "이영희", average: 85.00, rank: 4 }
// ]
```

**5. 과목별 1등**

각 과목에서 가장 높은 점수를 받은 학생을 찾으세요.

```javascript
function getTopStudentsBySubject(students) {
  // 여기를 완성하세요
}

// 예상 결과:
// {
//   korean: { name: "박민수", score: 95 },
//   math: { name: "이영희", score: 95 },
//   english: { name: "김철수", score: 95 }
// }
```

<details>
<summary>정답 보기</summary>

```javascript
const students = [
  { name: "홍길동", korean: 85, math: 90, english: 88 },
  { name: "김철수", korean: 92, math: 88, english: 95 },
  { name: "이영희", korean: 78, math: 95, english: 82 },
  { name: "박민수", korean: 95, math: 92, english: 90 }
];

// 1. 평균 점수 추가
function addAverageScore(students) {
  return students.map(student => {
    const average = (student.korean + student.math + student.english) / 3;
    return {
      ...student,
      average: Math.round(average * 100) / 100  // 소수점 2자리
    };
  });
}

// 2. 과목별 평균
function getSubjectAverages(students) {
  const totalKorean = students.reduce((sum, s) => sum + s.korean, 0);
  const totalMath = students.reduce((sum, s) => sum + s.math, 0);
  const totalEnglish = students.reduce((sum, s) => sum + s.english, 0);
  
  const count = students.length;
  
  return {
    korean: Math.round(totalKorean / count * 100) / 100,
    math: Math.round(totalMath / count * 100) / 100,
    english: Math.round(totalEnglish / count * 100) / 100
  };
}

// 3. 우등생 찾기 (평균 90점 이상)
function getHonorStudents(students) {
  // 먼저 평균 점수를 추가
  const studentsWithAvg = addAverageScore(students);
  
  // 평균 90점 이상인 학생만 필터링
  return studentsWithAvg
    .filter(student => student.average >= 90)
    .map(student => ({
      name: student.name,
      average: student.average
    }));
}

// 4. 등수 매기기
function addRanking(students) {
  // 먼저 평균 점수 추가
  const studentsWithAvg = addAverageScore(students);
  
  // 평균 점수로 내림차순 정렬
  const sorted = [...studentsWithAvg].sort((a, b) => b.average - a.average);
  
  // 등수 추가
  return sorted.map((student, index) => ({
    ...student,
    rank: index + 1
  }));
}

// 5. 과목별 1등
function getTopStudentsBySubject(students) {
  // 국어 1등
  const topKorean = students.reduce((top, student) => 
    student.korean > top.korean ? student : top
  );
  
  // 수학 1등
  const topMath = students.reduce((top, student) => 
    student.math > top.math ? student : top
  );
  
  // 영어 1등
  const topEnglish = students.reduce((top, student) => 
    student.english > top.english ? student : top
  );
  
  return {
    korean: { name: topKorean.name, score: topKorean.korean },
    math: { name: topMath.name, score: topMath.math },
    english: { name: topEnglish.name, score: topEnglish.english }
  };
}

// 추가 기능: 전체 통합 결과 출력
function printFullReport(students) {
  console.log("=== 성적 관리 시스템 ===\n");
  
  // 1. 평균 점수가 추가된 학생 목록
  const studentsWithAvg = addAverageScore(students);
  console.log("1. 학생별 평균 점수:");
  studentsWithAvg.forEach(s => {
    console.log(\`   \${s.name}: \${s.average}점\`);
  });
  
  // 2. 과목별 평균
  console.log("\n2. 과목별 반 평균:");
  const subjectAvg = getSubjectAverages(students);
  console.log(\`   국어: \${subjectAvg.korean}점\`);
  console.log(\`   수학: \${subjectAvg.math}점\`);
  console.log(\`   영어: \${subjectAvg.english}점\`);
  
  // 3. 우등생
  console.log("\n3. 우등생 (평균 90점 이상):");
  const honorStudents = getHonorStudents(students);
  honorStudents.forEach(s => {
    console.log(\`   \${s.name}: \${s.average}점\`);
  });
  
  // 4. 등수
  console.log("\n4. 전체 등수:");
  const ranked = addRanking(students);
  ranked.forEach(s => {
    console.log(\`   \${s.rank}등: \${s.name} (\${s.average}점)\`);
  });
  
  // 5. 과목별 1등
  console.log("\n5. 과목별 1등:");
  const topStudents = getTopStudentsBySubject(students);
  console.log(\`   국어: \${topStudents.korean.name} (\${topStudents.korean.score}점)\`);
  console.log(\`   수학: \${topStudents.math.name} (\${topStudents.math.score}점)\`);
  console.log(\`   영어: \${topStudents.english.name} (\${topStudents.english.score}점)\`);
}

// 테스트 실행
console.log("=== 테스트 1: 평균 점수 추가 ===");
console.log(addAverageScore(students));

console.log("\n=== 테스트 2: 과목별 평균 ===");
console.log(getSubjectAverages(students));

console.log("\n=== 테스트 3: 우등생 찾기 ===");
console.log(getHonorStudents(students));

console.log("\n=== 테스트 4: 등수 매기기 ===");
console.log(addRanking(students));

console.log("\n=== 테스트 5: 과목별 1등 ===");
console.log(getTopStudentsBySubject(students));

console.log("\n");
printFullReport(students);
```

**출력 결과:**

```
=== 테스트 1: 평균 점수 추가 ===
[
  { name: '홍길동', korean: 85, math: 90, english: 88, average: 87.67 },
  { name: '김철수', korean: 92, math: 88, english: 95, average: 91.67 },
  { name: '이영희', korean: 78, math: 95, english: 82, average: 85 },
  { name: '박민수', korean: 95, math: 92, english: 90, average: 92.33 }
]

=== 테스트 2: 과목별 평균 ===
{ korean: 87.5, math: 91.25, english: 88.75 }

=== 테스트 3: 우등생 찾기 ===
[
  { name: '김철수', average: 91.67 },
  { name: '박민수', average: 92.33 }
]

=== 테스트 4: 등수 매기기 ===
[
  { name: '박민수', korean: 95, math: 92, english: 90, average: 92.33, rank: 1 },
  { name: '김철수', korean: 92, math: 88, english: 95, average: 91.67, rank: 2 },
  { name: '홍길동', korean: 85, math: 90, english: 88, average: 87.67, rank: 3 },
  { name: '이영희', korean: 78, math: 95, english: 82, average: 85, rank: 4 }
]

=== 테스트 5: 과목별 1등 ===
{
  korean: { name: '박민수', score: 95 },
  math: { name: '이영희', score: 95 },
  english: { name: '김철수', score: 95 }
}

=== 성적 관리 시스템 ===

1. 학생별 평균 점수:
   홍길동: 87.67점
   김철수: 91.67점
   이영희: 85점
   박민수: 92.33점

2. 과목별 반 평균:
   국어: 87.5점
   수학: 91.25점
   영어: 88.75점

3. 우등생 (평균 90점 이상):
   김철수: 91.67점
   박민수: 92.33점

4. 전체 등수:
   1등: 박민수 (92.33점)
   2등: 김철수 (91.67점)
   3등: 홍길동 (87.67점)
   4등: 이영희 (85점)

5. 과목별 1등:
   국어: 박민수 (95점)
   수학: 이영희 (95점)
   영어: 김철수 (95점)
```

---

**각 함수별 설명:**

**1. addAverageScore - 평균 점수 추가**
- `map()`으로 각 학생 객체를 변환
- 세 과목 점수를 더해 3으로 나눔
- `Math.round(average * 100) / 100`으로 소수점 2자리까지 반올림
- 전개 연산자(`...student`)로 기존 속성 유지하며 average 추가

**2. getSubjectAverages - 과목별 평균**
- `reduce()`로 각 과목의 총점 계산
- 학생 수로 나눠서 평균 계산
- 객체로 반환하여 과목별 평균을 명확하게 표현

**3. getHonorStudents - 우등생 찾기**
- 먼저 `addAverageScore()`로 평균 추가
- `filter()`로 평균 90점 이상만 선택
- `map()`으로 이름과 평균만 추출

**4. addRanking - 등수 매기기**
- 평균 점수 추가 후 내림차순 정렬
- `sort((a, b) => b.average - a.average)`로 높은 점수가 앞으로
- 배열 인덱스 + 1을 rank로 설정

**5. getTopStudentsBySubject - 과목별 1등**
- `reduce()`로 각 과목의 최고 점수 학생 찾기
- 비교하면서 더 높은 점수의 학생을 누적값으로 유지
- 세 과목 각각 실행하여 결과를 객체로 반환

---

**핵심 학습 포인트:**

1. **map()**: 배열의 각 요소를 변환할 때
2. **filter()**: 조건에 맞는 요소만 선택할 때
3. **reduce()**: 배열을 하나의 값으로 축약할 때 (합계, 최댓값 등)
4. **sort()**: 배열을 정렬할 때 (원본 변경 주의!)
5. **전개 연산자(...)**: 객체를 복사하고 속성을 추가할 때

**도전 과제:**

정답을 보고 이해했다면, 다음 기능도 추가로 구현해보세요:

1. 각 학생의 최고 점수 과목과 최저 점수 과목 찾기
2. 반 전체의 최고 점수와 최저 점수 찾기
3. 특정 점수 이상인 학생 수 세기
4. 과목별로 점수 분포 계산하기 (90점 이상, 80-89점, 70-79점 등)

</details>

---

## ✅ 체크포인트

이번 챕터를 마치기 전에 다음 항목을 확인해보세요:

- [ ] 배열과 객체의 차이를 이해한다
- [ ] 배열을 생성하고 요소에 접근할 수 있다
- [ ] 객체를 생성하고 속성에 접근할 수 있다
- [ ] 배열 메서드(map, filter, reduce 등)를 사용할 수 있다
- [ ] 객체 메서드(keys, values, entries 등)를 사용할 수 있다
- [ ] 배열과 객체를 조합하여 사용할 수 있다
- [ ] 객체의 배열을 다룰 수 있다

---

### 자가 진단 퀴즈

**1. 다음 코드의 출력 결과는?**

```javascript
const numbers = [1, 2, 3, 4, 5];
const result = numbers.map(n => n * 2).filter(n => n > 5);
console.log(result);
```

<details>
<summary>정답 보기</summary>

<pre><code class="language-js">
[6, 8, 10]
</code></pre>

**설명:**
- `map(n => n * 2)`: 각 요소를 2배로 → [2, 4, 6, 8, 10]
- `filter(n => n > 5)`: 5보다 큰 수만 → [6, 8, 10]

</details>

---

**2. 다음 코드의 출력 결과는?**

```javascript
const person = {
  name: "홍길동",
  age: 25
};

person.city = "서울";
delete person.age;

console.log(person);
```

<details>
<summary>정답 보기</summary>

<pre><code class="language-js">
{ name: "홍길동", city: "서울" }
</code></pre>

**설명:**
- `person.city = "서울"`: city 속성 추가
- `delete person.age`: age 속성 삭제
- 최종 결과: name과 city만 남음

</details>

---

**3. 다음 코드의 출력 결과는?**

```javascript
const numbers = [5, 10, 15, 20];
const sum = numbers.reduce((acc, cur) => acc + cur, 0);
console.log(sum);
```

<details>
<summary>정답 보기</summary>
  
<pre><code class="language-js">
50
</code></pre>

**설명:**
- reduce로 모든 요소를 더함
- 5 + 10 + 15 + 20 = 50

</details>

--

**4. 다음 코드의 출력 결과는?**
   
```javascript
const students = [
{ name: "홍길동", score: 85 },
{ name: "김철수", score: 92 },
{ name: "이영희", score: 78 }
];
const names = students.map(s => s.name);
console.log(names);
```

<details>
<summary>정답 보기</summary>

<pre><code class="language-js">
["홍길동", "김철수", "이영희"]
</code></pre>

**설명:**
- map으로 각 객체에서 name 속성만 추출
- 결과는 이름들의 배열

</details>

---

**5. 다음 코드의 출력 결과는?**

```javascript
const data = { a: 1, b: 2, c: 3 };
const keys = Object.keys(data);
const values = Object.values(data);

console.log(keys.length);
console.log(values.reduce((sum, v) => sum + v, 0));
```

<details>
<summary>정답 보기</summary>

<pre><code class="language-js">
3
6
</code></pre>

**설명:**
- `Object.keys(data)`: ["a", "b", "c"] → 길이 3
- `Object.values(data)`: [1, 2, 3] → 합계 6

</details>

---

**6. 다음 코드의 출력 결과는?**

```javascript
const products = [
  { name: "사과", price: 1000 },
  { name: "바나나", price: 1500 },
  { name: "오렌지", price: 2000 }
];

const expensive = products.filter(p => p.price >= 1500);
console.log(expensive.length);
```

<details>
<summary>정답 보기</summary>

<pre><code class="language-js">
2
</code></pre>

**설명:**
- 가격이 1500원 이상인 상품: 바나나, 오렌지
- 필터링된 배열의 길이는 2

</details>

---

## 💡 실전 연습 문제

### 문제 1: 중복 제거

배열에서 중복된 요소를 제거하는 함수를 만드세요.

**요구사항:**
- 함수 이름: `removeDuplicates`
- 매개변수: `arr` (배열)
- 반환값: 중복이 제거된 새 배열

**예시:**

```javascript
console.log(removeDuplicates([1, 2, 2, 3, 3, 3, 4]));
// [1, 2, 3, 4]

console.log(removeDuplicates(["a", "b", "a", "c", "b"]));
// ["a", "b", "c"]
```

#### 정답 1: 중복 제거

```javascript
// 방법 1: filter + indexOf
function removeDuplicates(arr) {
  return arr.filter((item, index) => arr.indexOf(item) === index);
}

// 방법 2: Set 사용 (더 간단)
function removeDuplicates2(arr) {
  return [...new Set(arr)];
}

// 방법 3: reduce 사용
function removeDuplicates3(arr) {
  return arr.reduce((unique, item) => {
    return unique.includes(item) ? unique : [...unique, item];
  }, []);
}

// 테스트
console.log(removeDuplicates([1, 2, 2, 3, 3, 3, 4]));
// [1, 2, 3, 4]

console.log(removeDuplicates2(["a", "b", "a", "c", "b"]));
// ["a", "b", "c"]

console.log(removeDuplicates3([5, 5, 10, 10, 15]));
// [5, 10, 15]
```

---

### 문제 2: 그룹화

객체 배열을 특정 속성으로 그룹화하는 함수를 만드세요.

**요구사항:**
- 함수 이름: `groupBy`
- 매개변수: `arr` (배열), `key` (그룹화할 속성명)
- 반환값: 그룹화된 객체

**예시:**

```javascript
const students = [
  { name: "홍길동", grade: "A" },
  { name: "김철수", grade: "B" },
  { name: "이영희", grade: "A" },
  { name: "박민수", grade: "C" }
];

console.log(groupBy(students, "grade"));
// {
//   A: [
//     { name: "홍길동", grade: "A" },
//     { name: "이영희", grade: "A" }
//   ],
//   B: [{ name: "김철수", grade: "B" }],
//   C: [{ name: "박민수", grade: "C" }]
// }
```

#### 정답 2: 그룹화

```javascript
function groupBy(arr, key) {
  return arr.reduce((grouped, item) => {
    const groupKey = item[key];
    
    // 해당 그룹이 없으면 빈 배열로 초기화
    if (!grouped[groupKey]) {
      grouped[groupKey] = [];
    }
    
    // 현재 항목을 해당 그룹에 추가
    grouped[groupKey].push(item);
    
    return grouped;
  }, {});
}

// 테스트
const students = [
  { name: "홍길동", grade: "A" },
  { name: "김철수", grade: "B" },
  { name: "이영희", grade: "A" },
  { name: "박민수", grade: "C" }
];

console.log(groupBy(students, "grade"));
// {
//   A: [
//     { name: "홍길동", grade: "A" },
//     { name: "이영희", grade: "A" }
//   ],
//   B: [{ name: "김철수", grade: "B" }],
//   C: [{ name: "박민수", grade: "C" }]
// }

// 다른 속성으로도 그룹화 가능
const products = [
  { name: "사과", category: "과일" },
  { name: "당근", category: "채소" },
  { name: "바나나", category: "과일" }
];

console.log(groupBy(products, "category"));
// {
//   과일: [
//     { name: "사과", category: "과일" },
//     { name: "바나나", category: "과일" }
//   ],
//   채소: [{ name: "당근", category: "채소" }]
// }
```

---

### 문제 3: 배열 평탄화 (Flatten)

중첩된 배열을 1차원 배열로 만드는 함수를 작성하세요.

**요구사항:**
- 함수 이름: `flatten`
- 매개변수: `arr` (중첩 배열)
- 반환값: 평탄화된 배열

**예시:**

```javascript
console.log(flatten([1, [2, 3], [4, [5, 6]]]));
// [1, 2, 3, 4, 5, 6]

console.log(flatten([[1, 2], [3, [4, [5]]]]));
// [1, 2, 3, 4, 5]
```

#### 정답 3: 배열 평탄화

```javascript
// 방법 1: flat() 메서드 사용 (가장 간단)
function flatten(arr) {
  return arr.flat(Infinity);
}

// 방법 2: reduce 사용 (재귀)
function flatten2(arr) {
  return arr.reduce((flat, item) => {
    return flat.concat(Array.isArray(item) ? flatten2(item) : item);
  }, []);
}

// 방법 3: 재귀 함수 사용
function flatten3(arr) {
  const result = [];
  
  for (let item of arr) {
    if (Array.isArray(item)) {
      result.push(...flatten3(item));
    } else {
      result.push(item);
    }
  }
  
  return result;
}

// 테스트
console.log(flatten([1, [2, 3], [4, [5, 6]]]));
// [1, 2, 3, 4, 5, 6]

console.log(flatten2([[1, 2], [3, [4, [5]]]]));
// [1, 2, 3, 4, 5]

console.log(flatten3([[[1]], [2, [3, [4]]]]));
// [1, 2, 3, 4]
```

---

## 실전 프로젝트 아이디어

배운 배열과 객체를 활용해서 만들어볼 수 있는 미니 프로젝트들:

### 1. 연락처 관리 앱

```javascript
const contacts = [
  { 
    id: 1, 
    name: "홍길동", 
    phone: "010-1234-5678", 
    email: "hong@example.com", 
    group: "친구",
    favorite: false 
  },
  { 
    id: 2, 
    name: "김철수", 
    phone: "010-2345-6789", 
    email: "kim@example.com", 
    group: "직장",
    favorite: true 
  }
];

// 기능 구현
function addContact(contacts, contact) {
  const newId = contacts.length > 0 
    ? Math.max(...contacts.map(c => c.id)) + 1 
    : 1;
  contacts.push({ id: newId, favorite: false, ...contact });
}

function searchContacts(contacts, keyword) {
  return contacts.filter(contact => 
    contact.name.includes(keyword) || 
    contact.phone.includes(keyword) ||
    contact.email.includes(keyword)
  );
}

function getContactsByGroup(contacts, group) {
  return contacts.filter(contact => contact.group === group);
}

function getFavoriteContacts(contacts) {
  return contacts.filter(contact => contact.favorite);
}

function toggleFavorite(contacts, id) {
  const contact = contacts.find(c => c.id === id);
  if (contact) {
    contact.favorite = !contact.favorite;
  }
}

// 사용 예시
addContact(contacts, {
  name: "이영희",
  phone: "010-3456-7890",
  email: "lee@example.com",
  group: "가족"
});

console.log(searchContacts(contacts, "홍"));
console.log(getContactsByGroup(contacts, "친구"));
console.log(getFavoriteContacts(contacts));
```

---

### 2. 쇼핑 카트

```javascript
const products = [
  { id: 1, name: "노트북", price: 1000000, category: "전자기기" },
  { id: 2, name: "마우스", price: 30000, category: "전자기기" },
  { id: 3, name: "책상", price: 200000, category: "가구" }
];

let cart = [];

function addToCart(cart, productId, quantity = 1) {
  const existing = cart.find(item => item.productId === productId);
  
  if (existing) {
    existing.quantity += quantity;
  } else {
    cart.push({ productId, quantity });
  }
}

function removeFromCart(cart, productId) {
  const index = cart.findIndex(item => item.productId === productId);
  if (index !== -1) {
    cart.splice(index, 1);
  }
}

function updateQuantity(cart, productId, newQuantity) {
  const item = cart.find(item => item.productId === productId);
  if (item) {
    if (newQuantity <= 0) {
      removeFromCart(cart, productId);
    } else {
      item.quantity = newQuantity;
    }
  }
}

function getCartTotal(cart, products) {
  return cart.reduce((total, item) => {
    const product = products.find(p => p.id === item.productId);
    return total + (product.price * item.quantity);
  }, 0);
}

function getCartWithDetails(cart, products) {
  return cart.map(item => {
    const product = products.find(p => p.id === item.productId);
    return {
      ...product,
      quantity: item.quantity,
      subtotal: product.price * item.quantity
    };
  });
}

function applyDiscount(cart, products, discountRate) {
  const total = getCartTotal(cart, products);
  const discount = total * discountRate;
  return total - discount;
}

// 사용 예시
addToCart(cart, 1, 1);  // 노트북 1개
addToCart(cart, 2, 2);  // 마우스 2개
addToCart(cart, 1, 1);  // 노트북 1개 더 추가

console.log(getCartWithDetails(cart, products));
console.log(\`총액: \${getCartTotal(cart, products).toLocaleString()}원\`);
console.log(\`10% 할인가: \${applyDiscount(cart, products, 0.1).toLocaleString()}원\`);
```

---

### 3. 할 일 관리 앱

```javascript
const todos = [
  { 
    id: 1, 
    text: "장보기", 
    completed: false, 
    priority: "high", 
    dueDate: "2024-12-31",
    tags: ["일상", "쇼핑"]
  },
  { 
    id: 2, 
    text: "운동하기", 
    completed: false, 
    priority: "medium", 
    dueDate: "2024-12-25",
    tags: ["건강"]
  },
  { 
    id: 3, 
    text: "책 읽기", 
    completed: true, 
    priority: "low", 
    dueDate: "2024-12-20",
    tags: ["자기계발"]
  }
];

function addTodo(todos, text, priority = "medium", dueDate = null, tags = []) {
  const newId = todos.length > 0 
    ? Math.max(...todos.map(t => t.id)) + 1 
    : 1;
  todos.push({
    id: newId,
    text,
    completed: false,
    priority,
    dueDate,
    tags
  });
}

function toggleTodo(todos, id) {
  const todo = todos.find(t => t.id === id);
  if (todo) {
    todo.completed = !todo.completed;
  }
}

function deleteTodo(todos, id) {
  const index = todos.findIndex(t => t.id === id);
  if (index !== -1) {
    todos.splice(index, 1);
  }
}

function getTodosByStatus(todos, completed) {
  return todos.filter(todo => todo.completed === completed);
}

function getTodosByPriority(todos, priority) {
  return todos.filter(todo => todo.priority === priority);
}

function getTodosByTag(todos, tag) {
  return todos.filter(todo => todo.tags.includes(tag));
}

function getOverdueTodos(todos) {
  const today = new Date().toISOString().split('T')[0];
  return todos.filter(todo => 
    !todo.completed && todo.dueDate && todo.dueDate < today
  );
}

function getTodoStats(todos) {
  return {
    total: todos.length,
    completed: todos.filter(t => t.completed).length,
    pending: todos.filter(t => !t.completed).length,
    byPriority: {
      high: todos.filter(t => t.priority === "high").length,
      medium: todos.filter(t => t.priority === "medium").length,
      low: todos.filter(t => t.priority === "low").length
    }
  };
}

function sortTodosByPriority(todos) {
  const priorityOrder = { high: 1, medium: 2, low: 3 };
  return [...todos].sort((a, b) => 
    priorityOrder[a.priority] - priorityOrder[b.priority]
  );
}

// 사용 예시
addTodo(todos, "코딩 공부", "high", "2024-12-30", ["학습", "개발"]);
toggleTodo(todos, 1);
console.log(getTodoStats(todos));
console.log(getTodosByPriority(todos, "high"));
console.log(getTodosByTag(todos, "학습"));
```

---

### 4. 영화 추천 시스템

```javascript
const movies = [
  { 
    id: 1, 
    title: "인셉션", 
    genre: "SF", 
    rating: 9.0, 
    year: 2010,
    director: "크리스토퍼 놀란"
  },
  { 
    id: 2, 
    title: "인터스텔라", 
    genre: "SF", 
    rating: 9.2, 
    year: 2014,
    director: "크리스토퍼 놀란"
  },
  { 
    id: 3, 
    title: "기생충", 
    genre: "드라마", 
    rating: 8.6, 
    year: 2019,
    director: "봉준호"
  },
  { 
    id: 4, 
    title: "타이타닉", 
    genre: "로맨스", 
    rating: 7.8, 
    year: 1997,
    director: "제임스 카메론"
  }
];

function getMoviesByGenre(movies, genre) {
  return movies.filter(movie => movie.genre === genre);
}

function getTopRatedMovies(movies, count = 5) {
  return movies
    .sort((a, b) => b.rating - a.rating)
    .slice(0, count);
}

function getRecentMovies(movies, year) {
  return movies.filter(movie => movie.year >= year);
}

function getMoviesByDirector(movies, director) {
  return movies.filter(movie => movie.director === director);
}

function getAverageRating(movies) {
  const total = movies.reduce((sum, movie) => sum + movie.rating, 0);
  return (total / movies.length).toFixed(2);
}

function searchMovies(movies, keyword) {
  return movies.filter(movie =>
    movie.title.toLowerCase().includes(keyword.toLowerCase()) ||
    movie.director.toLowerCase().includes(keyword.toLowerCase())
  );
}

function recommendMovies(movies, genre, minRating) {
  return movies
    .filter(movie => movie.genre === genre && movie.rating >= minRating)
    .sort((a, b) => b.rating - a.rating);
}

// 사용 예시
console.log(getMoviesByGenre(movies, "SF"));
console.log(getTopRatedMovies(movies, 3));
console.log(getRecentMovies(movies, 2010));
console.log(\`평균 평점: \${getAverageRating(movies)}\`);
console.log(recommendMovies(movies, "SF", 9.0));
```

---

## 🎓 핵심 요약

이번 챕터에서 배운 내용을 정리합니다:

### 배열 (Array)

**개념:**
- 여러 값을 순서대로 저장하는 자료구조
- 인덱스는 0부터 시작
- 동적으로 크기 변경 가능

**주요 메서드:**
- **추가/제거**: push, pop, shift, unshift, splice
- **검색**: indexOf, includes, find, findIndex
- **변환**: map, filter, reduce
- **정렬**: sort, reverse
- **기타**: concat, slice, join

### 객체 (Object)

**개념:**
- 관련된 데이터를 키-값 쌍으로 저장
- 속성(property)으로 데이터에 접근
- 점 표기법 또는 대괄호 표기법 사용

**주요 메서드:**
- Object.keys() - 모든 키
- Object.values() - 모든 값
- Object.entries() - 키-값 쌍
- Object.assign() - 객체 복사/병합
- Object.fromEntries() - 배열을 객체로
- Object.hasOwn() - 속성 존재 확인

### 배열 + 객체 조합

**실전에서 가장 많이 사용하는 패턴:**

```javascript
const users = [
  { id: 1, name: "홍길동", age: 25 },
  { id: 2, name: "김철수", age: 30 }
];

// 필터링
users.filter(user => user.age >= 30);

// 변환
users.map(user => user.name);

// 통계
users.reduce((sum, user) => sum + user.age, 0);
```

---

## 다음 챕터 미리보기

자바스크립트 기초 문법을 완료했습니다! 🎉

여러분은 이제 JavaScript의 핵심 개념을 모두 익혔습니다:
- ✅ 변수와 데이터 타입
- ✅ 함수
- ✅ 조건문과 반복문
- ✅ 배열과 객체

이것들이 바로 프로그래밍의 기초입니다. 다음 Part에서는 이 기초를 바탕으로 타입스크립트와 리액트를 배워 실제 웹 애플리케이션을 만들어봅시다!



